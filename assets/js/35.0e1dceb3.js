(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{506:function(t,a,s){"use strict";s.r(a);var e=s(29),c=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"centos-7-安装-tomcat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos-7-安装-tomcat"}},[t._v("#")]),t._v(" CentOS 7 安装 Tomcat")]),t._v(" "),s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[t._v("Tomcat是Apache 软件基金会（Apache Software Foundation）的Jakarta 项目中的一个核心项目，由"),s("a",{attrs:{href:"https://baike.baidu.com/item/Apache/6265",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apache"),s("OutboundLink")],1),t._v("、Sun 和其他一些公司及个人共同开发而成。由于有了Sun 的参与和支持，最新的Servlet 和JSP 规范总是能在Tomcat 中得到体现，Tomcat 5支持最新的Servlet 2.4 和JSP 2.0 规范。因为Tomcat 技术先进、性能稳定，而且免费，因而深受Java 爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的Web 应用服务器。")]),t._v(" "),s("h2",{attrs:{id:"tomcat-下载和解压"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tomcat-下载和解压"}},[t._v("#")]),t._v(" Tomcat 下载和解压")]),t._v(" "),s("p",[t._v("Setup 1 :切换目录")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /opt\n")])])]),s("p",[t._v("Setup 2 :下载tomcat8")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://archive.apache.org/dist/tomcat/tomcat-8/v8.0.53/bin/apache-tomcat-8.0.53.tar.gz\n")])])]),s("p",[t._v("Setup 3 :解压")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf apache-tomcat-8.0.53.tar.gz\n")])])]),s("p",[t._v("Setup 4 :创建符号链接tomcat8，因为解压出来的包名比较长，为了方便")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ln")]),t._v(" -s apache-tomcat-8.0.53 tomcat\n")])])]),s("p",[t._v("Setup 5 :可以选择删除tomcat包")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf apache-tomcat-8.0.53.tar.gz\n")])])]),s("h2",{attrs:{id:"设置开启启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置开启启动"}},[t._v("#")]),t._v(" 设置开启启动")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("Tomcat的安装路径为"),s("code",[t._v("/opt/tomcat")])])]),t._v(" "),s("h3",{attrs:{id:"为tomcat添加启动参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为tomcat添加启动参数"}},[t._v("#")]),t._v(" 为Tomcat添加启动参数")]),t._v(" "),s("p",[s("code",[t._v("catalina.sh")]),t._v("在执行的时候会调用同级路径下的"),s("code",[t._v("setenv.sh")]),t._v("来设置额外的环境变量，因此在"),s("code",[t._v("/opt/tomcat/bin")]),t._v("路径下创建"),s("code",[t._v("setenv.sh")]),t._v("文件，内容如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('export CATALINA_HOME=/opt/tomcat\nexport CATALINA_BASE=/opt/tomcat\n#设置Tomcat的PID文件\nCATALINA_PID="$CATALINA_BASE/tomcat.pid"\n#添加JVM选项\nJAVA_OPTS="-server -XX:PermSize=256M -XX:MaxPermSize=1024m -Xms512M -Xmx1024M -XX:MaxNewSize=256m"\n')])])]),s("h3",{attrs:{id:"编写tomcat-service文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编写tomcat-service文件"}},[t._v("#")]),t._v(" 编写tomcat.service文件")]),t._v(" "),s("p",[t._v("在"),s("code",[t._v("/usr/lib/systemd/system")]),t._v("路径下添加"),s("code",[t._v("tomcat.service")]),t._v("文件，内容如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[Unit]\nDescription=Tomcat\nAfter=syslog.target network.target remote-fs.target nss-lookup.target\n\n[Service]\nType=forking\nPIDFile=/opt/tomcat/tomcat.pid\nExecStart=/opt/tomcat/bin/startup.sh\nExecReload=/bin/kill -s HUP $MAINPID\nExecStop=/bin/kill -s QUIT $MAINPID\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("定义控制单元 [Unit] 配置了服务的描述，规定了在network启动之后执行")]),t._v(" "),s("p",[t._v("声明服务类型 [Service] 配置服务的pid，服务的启动，停止，重启")]),t._v(" "),s("p",[t._v("安装服务 [install] 在 multi-user.target 启用时，我们的服务也就会被启用了")])]),t._v(" "),s("h3",{attrs:{id:"将tomcat加入服务管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将tomcat加入服务管理"}},[t._v("#")]),t._v(" 将Tomcat加入服务管理")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开机自动启动")]),t._v("\nsystemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" tomcat.service\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 禁用开机自启东")]),t._v("\nsystemctl disable tomcat.service\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动服务")]),t._v("\nsystemctl start tomcat.service\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止服务")]),t._v("\nsystemctl stop tomcat.service\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启服务")]),t._v("\nsystemctl restart tomcat.service\n")])])]),s("p",[t._v("浏览器访问："),s("code",[t._v("http://serverIP:8080")]),t._v(",即可看到"),s("code",[t._v("tomcat")]),t._v("的默认欢迎页面")]),t._v(" "),s("p",[t._v("至此，tomcat部署完成 (゜-゜)つロ 干杯~")])])}),[],!1,null,null,null);a.default=c.exports}}]);