(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{517:function(a,e,s){"use strict";s.r(e);var t=s(29),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"部署后台portal-web项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署后台portal-web项目"}},[a._v("#")]),a._v(" 部署后台portal-web项目")]),a._v(" "),s("h2",{attrs:{id:"拷贝portal-web-zip到tomcat并解压"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拷贝portal-web-zip到tomcat并解压"}},[a._v("#")]),a._v(" 拷贝portal-web.zip到tomcat并解压")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# cd /opt/tomcat8/webapps/")]),a._v("\n")])])]),s("p",[a._v("拷贝部署目录下的portal-web.zip到/opt/tomcat8/webapps下。")]),a._v(" "),s("p",[a._v("解压")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# unzip portal-web.zip")]),a._v("\n")])])]),s("h2",{attrs:{id:"修改配置文件-config-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件-config-properties"}},[a._v("#")]),a._v(" 修改配置文件 config.properties")]),a._v(" "),s("p",[a._v("编辑config.properties配置文件修改如下配置（修改红色部分）")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vi /opt/tomcat8/webapps/portal-web/WEB-INF/classes/config/config.properties")]),a._v("\n")])])]),s("h3",{attrs:{id:"修改数据库连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改数据库连接"}},[a._v("#")]),a._v(" 修改数据库连接")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("jdbc.url=jdbc:mysql://mysql-ip/portal?useUnicode=true&characterEncoding=utf-8&zeroDateTimeBehavior=convertToNull&autoReconnect=true\njdbc.username=root\njdbc.password=heyuqiang\n")])])]),s("h3",{attrs:{id:"修改静态资源请求地址-默认本机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改静态资源请求地址-默认本机"}},[a._v("#")]),a._v(" 修改静态资源请求地址（默认本机）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("resource.host=http://10.0.0.81:18087\n")])])]),s("h3",{attrs:{id:"修改视频播放地址和上传视频资源地址-默认本机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改视频播放地址和上传视频资源地址-默认本机"}},[a._v("#")]),a._v(" 修改视频播放地址和上传视频资源地址（默认本机）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("red5.ip=10.0.0.81\nred5Rtmp=rtmp://10.0.0.81/vod\nred5Host=http://10.0.0.81:18080/fileUpload\nplaySeq=1\n")])])]),s("h3",{attrs:{id:"修改gitlab项目地址和token-token获取方式参考gitlab部署章节"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改gitlab项目地址和token-token获取方式参考gitlab部署章节"}},[a._v("#")]),a._v(" 修改Gitlab项目地址和token（Token获取方式参考Gitlab部署章节）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("gitlab.api.url=http://10.0.0.81\ngitlab.api.token=yB9e1V85CfNNSa8RupEF\n")])])]),s("h3",{attrs:{id:"修改domain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改domain"}},[a._v("#")]),a._v(" 修改domain")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("domain=http://10.0.0.81\n")])])]),s("h3",{attrs:{id:"修改jenkins配置-填写安装时配置的用户名和密码-credentialsid是我们手动创建的-请根据《创建gitlab-root凭据》章节配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改jenkins配置-填写安装时配置的用户名和密码-credentialsid是我们手动创建的-请根据《创建gitlab-root凭据》章节配置"}},[a._v("#")]),a._v(" 修改Jenkins配置 填写安装时配置的用户名和密码，credentialsId是我们手动创建的，请根据《创建gitlab-root凭据》章节配置")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("jenkins.server.url=http://10.0.0.86:8080/jenkins\njenkins.server.username=heyuqiang\njenkins.server.passwd=heyuqiang\njenkins.job.credentialsId=gitlab-root\n")])])]),s("h3",{attrs:{id:"修改sonarqube配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改sonarqube配置"}},[a._v("#")]),a._v(" 修改sonarqube配置")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("sonar.server.url=http://10.0.0.85:9000/sonar\nsonar.server.username=admin\nsonar.server.passwd=heyuqiang\n")])])]),s("h2",{attrs:{id:"修改配置文件-mongodb-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件-mongodb-properties"}},[a._v("#")]),a._v(" 修改配置文件 mongodb.properties")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vi /opt/tomcat8/webapps/portal-web/WEB-INF/classes/config/mongodb.properties")]),a._v("\n")])])]),s("p",[a._v("以下是mongodb数据配置 包括数据库名，地址,端口，用户名和密码。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mongo.db=portal\nmongo.host=10.0.0.83\nmongo.port=27017\nmongo.user=portal\nmongo.pwd=heyuqiang\n")])])]),s("h2",{attrs:{id:"修改配置文件-license-config-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件-license-config-properties"}},[a._v("#")]),a._v(" 修改配置文件 license-config.properties")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vi /opt/tomcat8/webapps/portal-web/WEB-INF/classes/config/license-config.properties")]),a._v("\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("#License相关配置\nlicense.subject=license_portal\nlicense.publicAlias=publicCert\nlicense.storePass=public_password1234\nlicense.licensePath=/opt/license_portal/license.lic\nlicense.publicKeysStorePath=/opt/licesnse_portal/publicCerts.keystore\n")])])]),s("h2",{attrs:{id:"修改配置文件-upload-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件-upload-properties"}},[a._v("#")]),a._v(" 修改配置文件 upload.properties")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vi /opt/tomcat8/webapps/portal-web/WEB-INF/classes/config/upload.properties")]),a._v("\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("red5Path=/home/ITP/share/resource\ntempPath=/home/ITP/share/resource/temp\njudgedata=/home/ITP/share/judgedatas\n")])])]),s("h2",{attrs:{id:"创建文件目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建文件目录"}},[a._v("#")]),a._v(" 创建文件目录")]),a._v(" "),s("p",[a._v("默认不用修改使用如下命令创建相关目录即可，然后将资源放入对应目录。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /home/ITP/share/resource\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /home/ITP/share/resource/temp\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /home/ITP/share/upload\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" -p /home/ITP/share/judgedata\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);