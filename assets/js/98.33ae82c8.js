(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{566:function(t,a,e){"use strict";e.r(a);var s=e(29),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"minio客户端快速入门指南"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#minio客户端快速入门指南"}},[t._v("#")]),t._v(" Minio客户端快速入门指南")]),t._v(" "),e("p",[t._v("Minio Client (mc)为ls，cat，cp，mirror，diff，find等UNIX命令提供了一种替代方案。它支持文件系统和兼容Amazon S3的云存储服务（AWS Signature v2和v4）。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ls       列出文件和文件夹。\nmb       创建一个存储桶或一个文件夹。\ncat      显示文件和对象内容。\npipe     将一个STDIN重定向到一个对象或者文件或者STDOUT。\nshare    生成用于共享的URL。\ncp       拷贝文件和对象。\nmirror   给存储桶和文件夹做镜像。\nfind     基于参数查找文件。\ndiff     对两个文件夹或者存储桶比较差异。\nrm       删除文件和对象。\nevents   管理对象通知。\nwatch    监听文件和对象的事件。\npolicy   管理访问策略。\nsession  为cp命令管理保存的会话。\nconfig   管理mc配置文件。\nupdate   检查软件更新。\nversion  输出版本信息。\n")])])]),e("h2",{attrs:{id:"docker容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker容器"}},[t._v("#")]),t._v(" Docker容器")]),t._v(" "),e("h3",{attrs:{id:"稳定版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#稳定版"}},[t._v("#")]),t._v(" 稳定版")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("docker pull minio/mcdocker run minio/mc ls play\n")])])]),e("h3",{attrs:{id:"尝鲜版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#尝鲜版"}},[t._v("#")]),t._v(" 尝鲜版")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("docker pull minio/mc:edgedocker run minio/mc:edge ls play\n")])])]),e("p",[e("strong",[t._v("注意:")]),t._v(" 上述示例默认使用Minio"),e("a",{attrs:{href:"https://www.bookstack.cn/read/MinioCookbookZH/16.md#test-your-setup",target:"_blank",rel:"noopener noreferrer"}},[t._v("演示环境"),e("OutboundLink")],1),t._v("做演示，如果想用"),e("code",[t._v("mc")]),t._v("操作其它S3兼容的服务，采用下面的方式来启动容器：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("docker run -it --entrypoint=/bin/sh minio/mc\n")])])]),e("p",[t._v("然后使用"),e("a",{attrs:{href:"https://www.bookstack.cn/read/MinioCookbookZH/16.md#add-a-cloud-storage-service",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("mc config")]),t._v("命令"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"macos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#macos"}},[t._v("#")]),t._v(" macOS")]),t._v(" "),e("h3",{attrs:{id:"homebrew"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#homebrew"}},[t._v("#")]),t._v(" Homebrew")]),t._v(" "),e("p",[t._v("使用"),e("a",{attrs:{href:"http://brew.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Homebrew"),e("OutboundLink")],1),t._v("安装mc。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("brew install minio/stable/mcmc --help\n")])])]),e("h2",{attrs:{id:"gnu-linux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gnu-linux"}},[t._v("#")]),t._v(" GNU/Linux")]),t._v(" "),e("h3",{attrs:{id:"下载二进制文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载二进制文件"}},[t._v("#")]),t._v(" 下载二进制文件")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("平台")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("CPU架构")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("URL")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("GNU/Linux")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("64-bit Intel")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("https://dl.minio.io/client/mc/release/linux-amd64/mc")])])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("chmod +x mc./mc --help\n")])])]),e("h2",{attrs:{id:"microsoft-windows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#microsoft-windows"}},[t._v("#")]),t._v(" Microsoft Windows")]),t._v(" "),e("h3",{attrs:{id:"下载二进制文件-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载二进制文件-2"}},[t._v("#")]),t._v(" 下载二进制文件")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("平台")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("CPU架构")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("URL")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Microsoft Windows")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("64-bit Intel")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("https://dl.minio.io/client/mc/release/windows-amd64/mc.exe")])])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mc.exe --help\n")])])]),e("h2",{attrs:{id:"通过源码安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通过源码安装"}},[t._v("#")]),t._v(" 通过源码安装")]),t._v(" "),e("p",[t._v("通过源码安装仅适用于开发人员和高级用户。"),e("code",[t._v("mc update")]),t._v("命令不支持基于源码安装的更新通知。请从https://minio.io/downloads/#minio-client下载官方版本。")]),t._v(" "),e("p",[t._v("如果您没有Golang环境，请参照"),e("a",{attrs:{href:"https://docs.minio.io/docs/how-to-install-golang",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何安装Golang"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("go get -d github.com/minio/mccd ${GOPATH}/src/github.com/minio/mcmake\n")])])]),e("h2",{attrs:{id:"添加一个云存储服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加一个云存储服务"}},[t._v("#")]),t._v(" 添加一个云存储服务")]),t._v(" "),e("p",[t._v("如果你打算仅在POSIX兼容文件系统中使用"),e("code",[t._v("mc")]),t._v(",那你可以直接略过本节，跳到"),e("a",{attrs:{href:"https://www.bookstack.cn/read/MinioCookbookZH/16.md#everyday-use",target:"_blank",rel:"noopener noreferrer"}},[t._v("日常使用"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("添加一个或多个S3兼容的服务，请参考下面说明。"),e("code",[t._v("mc")]),t._v("将所有的配置信息都存储在"),e("code",[t._v("~/.mc/config.json")]),t._v("文件中。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mc config host add <ALIAS> <YOUR-S3-ENDPOINT> <YOUR-ACCESS-KEY> <YOUR-SECRET-KEY> <API-SIGNATURE>\n")])])]),e("p",[t._v('别名就是给你的云存储服务起了一个短点的外号。S3 endpoint,access key和secret key是你的云存储服务提供的。API签名是可选参数，默认情况下，它被设置为"S3v4"。')]),t._v(" "),e("h3",{attrs:{id:"示例-minio云存储"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例-minio云存储"}},[t._v("#")]),t._v(" 示例-Minio云存储")]),t._v(" "),e("p",[t._v("从Minio服务获得URL、access key和secret key。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mc config host add minio http://192.168.1.51 BKIKJAA5BMMU2RHO6IBB V7f1CwQqAcwo80UEIJEjc5gVQUSSx5ohQ9GSrr12 S3v4\n")])])]),e("h3",{attrs:{id:"示例-amazon-s3云存储"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例-amazon-s3云存储"}},[t._v("#")]),t._v(" 示例-Amazon S3云存储")]),t._v(" "),e("p",[t._v("参考"),e("a",{attrs:{href:"http://docs.aws.amazon.com/general/latest/gr/aws-security-credentials.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS Credentials指南"),e("OutboundLink")],1),t._v("获取你的AccessKeyID和SecretAccessKey。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mc config host add s3 https://s3.amazonaws.com BKIKJAA5BMMU2RHO6IBB V7f1CwQqAcwo80UEIJEjc5gVQUSSx5ohQ9GSrr12 S3v4\n")])])]),e("h3",{attrs:{id:"示例-google云存储"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例-google云存储"}},[t._v("#")]),t._v(" 示例-Google云存储")]),t._v(" "),e("p",[t._v("参考"),e("a",{attrs:{href:"https://cloud.google.com/storage/docs/migrating?hl=en#keys",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Credentials Guide"),e("OutboundLink")],1),t._v("获取你的AccessKeyID和SecretAccessKey。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mc config host add gcs  https://storage.googleapis.com BKIKJAA5BMMU2RHO6IBB V8f1CwQqAcwo80UEIJEjc5gVQUSSx5ohQ9GSrr12 S3v2\n")])])]),e("p",[t._v("注意：Google云存储只支持旧版签名版本V2，所以你需要选择S3v2。")]),t._v(" "),e("h2",{attrs:{id:"验证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),e("p",[e("code",[t._v("mc")]),t._v("预先配置了云存储服务URL：https://play.minio.io:9000，别名“play”。它是一个用于研发和测试的Minio服务。如果想测试Amazon S3,你可以将“play”替换为“s3”。")]),t._v(" "),e("p",[e("em",[t._v("示例:")])]),t._v(" "),e("p",[t._v("列出https://play.minio.io:9000上的所有存储桶。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mc ls play\n[2016-03-22 19:47:48 PDT]     0B my-bucketname/\n[2016-03-22 22:01:07 PDT]     0B mytestbucket/\n[2016-03-22 20:04:39 PDT]     0B mybucketname/\n[2016-01-28 17:23:11 PST]     0B newbucket/\n[2016-03-20 09:08:36 PDT]     0B s3git-test/\n")])])]),e("h2",{attrs:{id:"日常使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日常使用"}},[t._v("#")]),t._v(" 日常使用")]),t._v(" "),e("h3",{attrs:{id:"shell别名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell别名"}},[t._v("#")]),t._v(" Shell别名")]),t._v(" "),e("p",[t._v("你可以添加shell别名来覆盖默认的Unix工具命令。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("alias ls='mc ls'\nalias cp='mc cp'\nalias cat='mc cat'\nalias mkdir='mc mb'\nalias pipe='mc pipe'\nalias find='mc find'\n")])])]),e("h3",{attrs:{id:"shell自动补全"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell自动补全"}},[t._v("#")]),t._v(" Shell自动补全")]),t._v(" "),e("p",[t._v("你也可以下载"),e("a",{attrs:{href:"https://raw.githubusercontent.com/minio/mc/master/autocomplete/bash_autocomplete",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("autocomplete/bash_autocomplete")]),e("OutboundLink")],1),t._v("到"),e("code",[t._v("/etc/bash_completion.d/")]),t._v("，然后将其重命名为"),e("code",[t._v("mc")]),t._v("。别忘了在这个文件运行source命令让其在你的当前shell上可用。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sudo wget https://raw.githubusercontent.com/minio/mc/master/autocomplete/bash_autocomplete -O /etc/bash_completion.d/mc\nsource /etc/bash_completion.d/mc\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mc <TAB>\nadmin    config   diff     ls       mirror   policy   session  update   watch\ncat      cp       events   mb       pipe     rm       share    version\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);