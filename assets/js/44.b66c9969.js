(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{515:function(s,a,t){"use strict";t.r(a);var e=t(29),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"centos-7-安装-nfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-7-安装-nfs"}},[s._v("#")]),s._v(" CentOS 7 安装 NFS")]),s._v(" "),t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),t("p",[s._v("网络文件系统，英文Network File System(NFS)，是由SUN公司研制的UNIX表示层协议(presentation layer protocol)，能使使用者访问网络上别处的文件就像在使用自己的计算机一样。")]),s._v(" "),t("h2",{attrs:{id:"nfs服务端安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nfs服务端安装"}},[s._v("#")]),s._v(" NFS服务端安装：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-utils -y\n")])])]),t("h3",{attrs:{id:"创建共享"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建共享"}},[s._v("#")]),s._v(" 创建共享")]),s._v(" "),t("p",[s._v("1.在"),t("code",[s._v("/etc/exports")]),s._v("配置文件中添加以下内容，保存退出；")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/home/ITP/share "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".134.252/255.255.255.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rw,sync,no_root_squash"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("或者")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/home/ITP/share "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".134.0/24"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rw,sync,no_root_squash"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("h3",{attrs:{id:"创建共享目录并给予写的权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建共享目录并给予写的权限"}},[s._v("#")]),s._v(" 创建共享目录并给予写的权限")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /home/ITP/share\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" o+w /home/ITP/share\n")])])]),t("h3",{attrs:{id:"启动nfs服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动nfs服务"}},[s._v("#")]),s._v(" 启动NFS服务")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl restart rpcbind\nsystemctl restart nfs-server\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" rpcbind\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" nfs-server\n")])])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("nfs其实还依赖nfs-lock、nfs-idmap两个服务，但是无需我们去做相关配置。")])]),s._v(" "),t("h3",{attrs:{id:"防火墙配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#防火墙配置"}},[s._v("#")]),s._v(" 防火墙配置")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("firewall-cmd --permanent --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nfs\nfirewall-cmd --permanent --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mountd\nfirewall-cmd --permanent --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-service"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("rpc-bind\nfirewall-cmd --reload\n")])])]),t("h2",{attrs:{id:"nfs客户端安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nfs客户端安装"}},[s._v("#")]),s._v(" NFS客户端安装：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-utils -y\n")])])]),t("h3",{attrs:{id:"创建挂载目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建挂载目录"}},[s._v("#")]),s._v(" 创建挂载目录")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /home/ITP/share\n")])])]),t("h3",{attrs:{id:"挂载nfs共享"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#挂载nfs共享"}},[s._v("#")]),s._v(" 挂载NFS共享")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -t nfs "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".134.248:/home/ITP/share /home/ITP/share\n")])])]),t("h3",{attrs:{id:"查看客户端挂载信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看客户端挂载信息"}},[s._v("#")]),s._v(" 查看客户端挂载信息")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h\n")])])]),t("p",[s._v("至此，NFS 部署完成 (゜-゜)つロ 干杯~")])])}),[],!1,null,null,null);a.default=r.exports}}]);