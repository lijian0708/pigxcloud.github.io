(window.webpackJsonp=window.webpackJsonp||[]).push([[209],{678:function(_,t,s){"use strict";s.r(t);var v=s(29),e=Object(v.a)({},(function(){var _=this,t=_.$createElement,s=_._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[s("h1",{attrs:{id:"jenkins用户权限管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jenkins用户权限管理"}},[_._v("#")]),_._v(" Jenkins用户权限管理")]),_._v(" "),s("p",[_._v("我们可以利用Role-based Authorization Strategy 插件来管理Jenkins用户权限")]),_._v(" "),s("h2",{attrs:{id:"安装role-based-authorization-strategy插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装role-based-authorization-strategy插件"}},[_._v("#")]),_._v(" 安装Role-based Authorization Strategy插件")]),_._v(" "),s("p",[s("strong",[_._v("系统管理")]),_._v(" -> "),s("strong",[_._v("插件管理")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_115917.jpg",alt:"Role-based Authorization Strategy"}})]),_._v(" "),s("h2",{attrs:{id:"开启权限全局安全配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启权限全局安全配置"}},[_._v("#")]),_._v(" 开启权限全局安全配置")]),_._v(" "),s("p",[s("strong",[_._v("系统管理")]),_._v(" -> "),s("strong",[_._v("全局安全配置")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_121703.jpg",alt:"全局安全配置"}})]),_._v(" "),s("p",[_._v("授权策略切换为"),s("code",[_._v("Role-Based Strategy")]),_._v('，点击"保存"。')]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_122343.jpg",alt:"Role-Based Strategy"}})]),_._v(" "),s("h2",{attrs:{id:"创建角色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建角色"}},[_._v("#")]),_._v(" 创建角色")]),_._v(" "),s("p",[_._v("在系统管理页面进入 "),s("code",[_._v("Manage and Assign Roles")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_123918.jpg",alt:"Manage and Assign Roles"}})]),_._v(" "),s("p",[_._v("点击"),s("code",[_._v("Manage Roles")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_124241.jpg",alt:"Manage Roles"}})]),_._v(" "),s("ul",[s("li",[s("strong",[_._v("Global roles（全局角色）")]),_._v("：管理员等高级用户可以创建基于全局的角色")]),_._v(" "),s("li",[s("strong",[_._v("Item roles（项目角色）")]),_._v("： 针对某个或者某些项目的角色")]),_._v(" "),s("li",[s("strong",[_._v("Node roles（从节点）")]),_._v("：节点相关的权限")])]),_._v(" "),s("p",[_._v("我们添加以下三个角色：")]),_._v(" "),s("ul",[s("li",[s("strong",[_._v("baseRole")]),_._v("：该角色为全局角色。这个角色需要绑定Overall下面的Read权限，是为了给所有用户绑定最基本的Jenkins访问权限。注意：如果不给后续用户绑定这个角色，会报错误："),s("strong",[_._v("用户名 is missing the Overall/Read permission")])]),_._v(" "),s("li",[s("strong",[_._v("role1")]),_._v("：该角色为项目角色。使用正则表达式绑定"),s("code",[_._v("project1.*")]),_._v("，意思是只能操作"),s("code",[_._v("project1")]),_._v("开头的项目。")]),_._v(" "),s("li",[s("strong",[_._v("role2")]),_._v("：该角色也为项目角色。绑定"),s("code",[_._v("project2.*")]),_._v("，意思是只能操作"),s("code",[_._v("project2")]),_._v("开头的项目。")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_125203.jpg",alt:"Manage Roles"}})]),_._v(" "),s("p",[_._v('点击"保存"。')]),_._v(" "),s("h2",{attrs:{id:"创建用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建用户"}},[_._v("#")]),_._v(" 创建用户")]),_._v(" "),s("p",[_._v("在系统管理页面进入 管理用户")]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_125456.jpg",alt:"管理用户"}})]),_._v(" "),s("p",[s("strong",[_._v("管理用户")]),_._v(" -> "),s("strong",[_._v("新建用户")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_130015.jpg",alt:"新建用户"}})]),_._v(" "),s("p",[_._v("分别创建两个用户："),s("code",[_._v("jack")]),_._v("和"),s("code",[_._v("jasper")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_130350.jpg",alt:"用户列表"}})]),_._v(" "),s("h3",{attrs:{id:"给用户分配角色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#给用户分配角色"}},[_._v("#")]),_._v(" 给用户分配角色")]),_._v(" "),s("p",[_._v("系统管理页面进入"),s("code",[_._v("Manage and Assign Roles")]),_._v("，点击"),s("code",[_._v("Assign Roles")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_130726.jpg",alt:"Assign Roles"}})]),_._v(" "),s("p",[s("strong",[_._v("绑定规则如下：")])]),_._v(" "),s("ul",[s("li",[s("code",[_._v("jack")]),_._v("用户分别绑定"),s("code",[_._v("baseRole")]),_._v("和"),s("code",[_._v("role1")]),_._v("角色")]),_._v(" "),s("li",[s("code",[_._v("jasper")]),_._v("用户分别绑定"),s("code",[_._v("baseRole")]),_._v("和"),s("code",[_._v("role2")]),_._v("角色")])]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_131044.jpg",alt:"Assign Roles"}})]),_._v(" "),s("p",[_._v('点击"保存"。')]),_._v(" "),s("h2",{attrs:{id:"创建项目测试权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建项目测试权限"}},[_._v("#")]),_._v(" 创建项目测试权限")]),_._v(" "),s("p",[_._v("以"),s("code",[_._v("admin")]),_._v("管理员账户创建两个项目，分别为"),s("code",[_._v("project1_demo")]),_._v("和"),s("code",[_._v("project2_demo")])]),_._v(" "),s("p",[s("strong",[_._v("结果为：")])]),_._v(" "),s("ul",[s("li",[s("p",[s("code",[_._v("jack")]),_._v("用户登录，只能看到"),s("code",[_._v("project1_demo")]),_._v("项目")]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_131540.jpg",alt:"Assign Roles"}})])]),_._v(" "),s("li",[s("p",[s("code",[_._v("jsaper")]),_._v("用户登录，只能看到"),s("code",[_._v("project2_demo")]),_._v("项目")]),_._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-06-20_131705.jpg",alt:"Assign Roles"}})])])]),_._v(" "),s("p",[_._v("至此，基于角色的权限配置就完成了，实际使用中根据项目名称匹配用户管理项目即可。")])])}),[],!1,null,null,null);t.default=e.exports}}]);