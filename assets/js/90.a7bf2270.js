(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{558:function(s,a,t){"use strict";t.r(a);var e=t(29),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"minio-docker快速入门"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minio-docker快速入门"}},[s._v("#")]),s._v(" Minio Docker快速入门")]),s._v(" "),t("h2",{attrs:{id:"前提条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[s._v("#")]),s._v(" 前提条件")]),s._v(" "),t("p",[s._v("您的机器已经安装docker. 从 "),t("a",{attrs:{href:"https://www.docker.com/community-edition#/download",target:"_blank",rel:"noopener noreferrer"}},[s._v("这里"),t("OutboundLink")],1),s._v("下载相关软件。")]),s._v(" "),t("h2",{attrs:{id:"在docker中运行minio单点模式。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在docker中运行minio单点模式。"}},[s._v("#")]),s._v(" 在Docker中运行Minio单点模式。")]),s._v(" "),t("p",[s._v("Minio 需要一个持久卷来存储配置和应用数据。不过, 如果只是为了测试一下, 您可以通过简单地传递一个目录（在下面的示例中为"),t("code",[s._v("/ data")]),s._v("）启动Minio。这个目录会在容器启动时在容器的文件系统中创建，不过所有的数据都会在容器退出时丢失。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9001")]),s._v(":9001 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER=AKIAIOSFODNN7EXAMPLE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  minio/minio server /data --console-address "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9001"')]),s._v("\n")])])]),t("p",[s._v("要创建具有永久存储的Minio容器，您需要将本地持久目录从主机操作系统映射到虚拟配置"),t("code",[s._v("~/.minio")]),s._v(" 并导出"),t("code",[s._v("/data")]),s._v("目录。 为此，请运行以下命令")]),s._v(" "),t("h4",{attrs:{id:"gnu-linux-和-macos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gnu-linux-和-macos"}},[s._v("#")]),s._v(" GNU/Linux 和 macOS")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9001")]),s._v(":9001 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --name minio1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /mnt/data:/data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER=AKIAIOSFODNN7EXAMPLE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  minio/minio server /data --console-address "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9001"')]),s._v("\n\n")])])]),t("h4",{attrs:{id:"windows"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[s._v("#")]),s._v(" Windows")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9001")]),s._v(":9001 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --name minio1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("data:/data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER=AKIAIOSFODNN7EXAMPLE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  minio/minio server /data --console-address "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9001"')]),s._v("\n")])])]),t("h2",{attrs:{id:"在docker中运行minio分布式模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在docker中运行minio分布式模式"}},[s._v("#")]),s._v(" 在Docker中运行Minio分布式模式")]),s._v(" "),t("p",[s._v("分布式Minio可以通过 "),t("a",{attrs:{href:"https://docs.min.io/docs/deploy-minio-on-docker-compose",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker Compose"),t("OutboundLink")],1),s._v(" 或者 "),t("a",{attrs:{href:"https://docs.min.io/docs/deploy-minio-on-docker-swarm",target:"_blank",rel:"noopener noreferrer"}},[s._v("Swarm mode"),t("OutboundLink")],1),s._v("进行部署。这两者之间的主要区别是Docker Compose创建了单个主机，多容器部署，而Swarm模式创建了一个多主机，多容器部署。")]),s._v(" "),t("p",[s._v("这意味着Docker Compose可以让你快速的在你的机器上快速使用分布式Minio-非常适合开发，测试环境；而Swarm模式提供了更健壮，生产级别的部署。")]),s._v(" "),t("h2",{attrs:{id:"minio-docker-tips"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minio-docker-tips"}},[s._v("#")]),s._v(" Minio Docker Tips")]),s._v(" "),t("h3",{attrs:{id:"minio自定义access和secret密钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minio自定义access和secret密钥"}},[s._v("#")]),s._v(" Minio自定义Access和Secret密钥")]),s._v(" "),t("p",[s._v("要覆盖Minio的自动生成的密钥，您可以将Access和Secret密钥设为环境变量。 Minio允许常规字符串作为Access和Secret密钥。")]),s._v(" "),t("h4",{attrs:{id:"gnu-linux-和-macos-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gnu-linux-和-macos-2"}},[s._v("#")]),s._v(" GNU/Linux 和 macOS")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9001")]),s._v(":9001 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --name minio1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER=AKIAIOSFODNN7EXAMPLE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /mnt/data:/data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  minio/minio server /data --console-address "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9001"')]),s._v("\n")])])]),t("h4",{attrs:{id:"windows-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows-2"}},[s._v("#")]),s._v(" Windows")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9001")]),s._v(":9001 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --name minio1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER=AKIAIOSFODNN7EXAMPLE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("data:/data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  minio/minio server /data --console-address "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('":9001"')]),s._v("\n")])])]),t("h3",{attrs:{id:"以普通用户身份运行-minio-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#以普通用户身份运行-minio-docker"}},[s._v("#")]),s._v(" 以普通用户身份运行 MinIO Docker")]),s._v(" "),t("p",[s._v("Docker 提供标准化机制来以非 root 用户身份运行 Docker 容器。")]),s._v(" "),t("h4",{attrs:{id:"gnu-linux-和-macos-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gnu-linux-和-macos-3"}},[s._v("#")]),s._v(" GNU/Linux 和 macOS")]),s._v(" "),t("p",[s._v("在 Linux 和 macOS 上，您可以使用"),t("code",[s._v("--user")]),s._v("普通用户来运行容器。")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("确保--user在使用之前对 "),t("code",[s._v("${HOME}/data")]),s._v(" 有写权限 "),t("code",[s._v("--user")]),s._v(" 。")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")]),s._v("}")]),s._v("/data\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":9000 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9001")]),s._v(":9001 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --user "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -u"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -g"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --name minio1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER=AKIAIOSFODNN7EXAMPLE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD=wJalrXUtnFEMIK7MDENGbPxRfiCYEXAMPLEKEY"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")]),s._v("}")]),s._v("/data:/data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  minio/minio server /data\n")])])]),t("h3",{attrs:{id:"使用docker-secrets进行minio-access和secret密钥自定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用docker-secrets进行minio-access和secret密钥自定义"}},[s._v("#")]),s._v(" 使用Docker secrets进行Minio Access和Secret密钥自定义")]),s._v(" "),t("p",[s._v("要覆盖Minio的自动生成的密钥,你可以把secret和access秘钥创建成"),t("a",{attrs:{href:"https://docs.docker.com/engine/swarm/secrets/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker secrets"),t("OutboundLink")],1),s._v(". Minio允许常规字符串作为Access和Secret密钥。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AKIAIOSFODNN7EXAMPLE"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" secret create access_key -\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" secret create secret_key -\n")])])]),t("p",[s._v("使用"),t("code",[s._v("docker service")]),s._v("创建Minio服务，并读取Docker secrets。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" create --name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"minio-service"')]),s._v(" --secret"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"access_key"')]),s._v(" --secret"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"secret_key"')]),s._v(" minio/minio server /data\n")])])]),t("p",[s._v("更多 "),t("code",[s._v("docker service")]),s._v("信息，请访问 "),t("a",{attrs:{href:"https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/",target:"_blank",rel:"noopener noreferrer"}},[s._v("这里"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"minio-自定义访问和密钥文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minio-自定义访问和密钥文件"}},[s._v("#")]),s._v(" MinIO 自定义访问和密钥文件")]),s._v(" "),t("p",[s._v("要使用其他的 secret 名字运行您的服务，按照上面的说明替换"),t("code",[s._v("access_key")]),s._v("和"),t("code",[s._v("secret_key")]),s._v("为您的自定义名称（例如"),t("code",[s._v("my_secret_key")]),s._v("，"),t("code",[s._v("my_custom_key")]),s._v("）。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" create --name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"minio-service"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --secret"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my_access_key"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --secret"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my_secret_key"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --env"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_USER_FILE=my_access_key"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --env"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MINIO_ROOT_PASSWORD_FILE=my_secret_key"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  minio/minio server /data\n")])])]),t("p",[t("code",[s._v("MINIO_ROOT_USER_FILE")]),s._v(" 和 "),t("code",[s._v("MINIO_ROOT_PASSWORD_FILE")]),s._v("还支持自定义绝对路径，以防 Docker secrets 安装到自定义位置或使用其他工具将 secrets 安装到容器中。例如，HashiCorp Vault 将机密注入"),t("code",[s._v("/vault/secrets")]),s._v(". 使用上面的自定义名称，将环境变量设置为")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MINIO_ROOT_USER_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/vault/secrets/my_access_key\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MINIO_ROOT_PASSWORD_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/vault/secrets/my_secret_key\n")])])]),t("h3",{attrs:{id:"获取容器id"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取容器id"}},[s._v("#")]),s._v(" 获取容器ID")]),s._v(" "),t("p",[s._v("在容器中使用Docker命令, 你需要知道这个容器的 "),t("code",[s._v("容器ID")]),s._v(" 。 为了获取 "),t("code",[s._v("Container ID")]),s._v(", 运行")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a\n")])])]),t("p",[t("code",[s._v("-a")]),s._v(" flag 确保你获取所有的容器(创建的，正在运行的，退出的)，然后从输出中识别"),t("code",[s._v("Container ID")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"启动和停止容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动和停止容器"}},[s._v("#")]),s._v(" 启动和停止容器")]),s._v(" "),t("p",[s._v("启动容器,你可以使用 "),t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/start/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("docker start")]),t("OutboundLink")],1),s._v(" 命令。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("停止一下正在运行的容器, 使用 "),t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/stop/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("docker stop")]),t("OutboundLink")],1),s._v(" 命令。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("h3",{attrs:{id:"minio容器日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minio容器日志"}},[s._v("#")]),s._v(" Minio容器日志")]),s._v(" "),t("p",[s._v("获取Minio日志，使用 "),t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/logs/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("docker logs")]),t("OutboundLink")],1),s._v(" 命令。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("h3",{attrs:{id:"监控miniodocker容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#监控miniodocker容器"}},[s._v("#")]),s._v(" 监控MinioDocker容器")]),s._v(" "),t("p",[s._v("监控Minio容器使用的资源,使用 "),t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/stats/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("docker stats")]),t("OutboundLink")],1),s._v(" 命令.")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stats "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("container_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);