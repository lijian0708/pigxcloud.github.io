(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{557:function(t,a,s){"use strict";s.r(a);var e=s(29),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"minio快速入门指南"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minio快速入门指南"}},[t._v("#")]),t._v(" Minio快速入门指南")]),t._v(" "),s("p",[t._v("Minio 是一个基于Apache License v2.0开源协议的对象存储服务。它兼容亚马逊S3云存储服务接口，非常适合于存储大容量非结构化的数据，例如图片、视频、日志文件、备份数据和容器/虚拟机镜像等，而一个对象文件可以是任意大小，从几kb到最大5T不等。")]),t._v(" "),s("p",[t._v("Minio是一个非常轻量的服务,可以很简单的和其他应用的结合，类似 NodeJS, Redis 或者 MySQL。")]),t._v(" "),s("h2",{attrs:{id:"docker-容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-容器"}},[t._v("#")]),t._v(" Docker 容器")]),t._v(" "),s("p",[t._v("使用以下命令将独立的 MinIO 服务器作为容器运行。")]),t._v(" "),s("p",[t._v("独立的 MinIO 服务器最适合早期开发和评估。某些功能（例如版本控制、对象锁定和存储桶复制）需要使用擦除编码分布式部署 MinIO。对于扩展的开发和生产，通过编写代码启用擦除部署MinIO -具体而言，用"),s("em",[t._v("最少")]),t._v("的每MinIO服务器4个驱动器。有关更完整的文档，请参阅"),s("a",{attrs:{href:"https://docs.min.io/docs/minio-erasure-code-quickstart-guide.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MinIO 擦除代码快速入门指南"),s("OutboundLink")],1),t._v(" 。")]),t._v(" "),s("h3",{attrs:{id:"稳定版"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#稳定版"}},[t._v("#")]),t._v(" 稳定版")]),t._v(" "),s("p",[t._v("运行以下命令以使用临时数据卷将 MinIO 的最新稳定映像作为容器运行：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v(":9000 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  -p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9001")]),t._v(":9001 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  minio/minio server /data --console-address "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":9001"')]),t._v("\n")])])]),s("p",[t._v("MinIO 部署开始使用默认的根凭据"),s("code",[t._v("minioadmin:minioadmin")]),t._v("。您可以使用 MinIO 控制台测试部署，这是一个内置于 MinIO 服务器的嵌入式对象浏览器。将主机上运行的 Web 浏览器指向 "),s("code",[t._v("http://127.0.0.1:9001")]),t._v(" 并使用 root 凭据登录。您可以使用浏览器来创建桶、上传对象以及浏览 MinIO 服务器的内容。")]),t._v(" "),s("p",[t._v("更多Docker部署信息请访问 "),s("a",{attrs:{href:"https://docs.minio.io/docs/minio-docker-quickstart-guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"macos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#macos"}},[t._v("#")]),t._v(" macOS")]),t._v(" "),s("h3",{attrs:{id:"homebrew"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#homebrew"}},[t._v("#")]),t._v(" Homebrew")]),t._v(" "),s("p",[t._v("运行以下命令以使用"),s("a",{attrs:{href:"http://brew.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Homebrew"),s("OutboundLink")],1),t._v("安装最新的稳定 MinIO 包。替换 "),s("code",[t._v("/data")]),t._v(" 为您希望 MinIO 存储数据的驱动器或目录的路径。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("brew "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" minio/stable/minio\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MINIO_ROOT_USER")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("admin "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MINIO_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("password minio server /mnt/data --console-address "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":9001"')]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("如果你之前使用 "),s("code",[t._v("brew install minio")]),t._v("安装过minio, 可以用 "),s("code",[t._v("minio/stable/minio")]),t._v(" 官方仓库重新安装 minio。")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("brew uninstall minio\nbrew "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" minio/stable/minio\n")])])]),s("h3",{attrs:{id:"下载二进制文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载二进制文件"}},[t._v("#")]),t._v(" 下载二进制文件")]),t._v(" "),s("p",[t._v("使用以下命令在 macOS 上下载并运行独立的 MinIO 服务器。替换 "),s("code",[t._v("/data")]),t._v(" 为您希望 MinIO 存储数据的驱动器或目录的路径。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://dl.min.io/server/minio/release/darwin-amd64/minio\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x minio\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MINIO_ROOT_USER")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("admin "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MINIO_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("password ./minio server /mnt/data --console-address "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":9001"')]),t._v("\n")])])]),s("h2",{attrs:{id:"gnu-linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gnu-linux"}},[t._v("#")]),t._v(" GNU/Linux")]),t._v(" "),s("p",[t._v("使用以下命令在运行 64 位 Intel/AMD 架构的 Linux 主机上运行独立的 MinIO 服务器。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://dl.min.io/server/minio/release/linux-amd64/minio\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x minio\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MINIO_ROOT_USER")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("admin "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MINIO_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("password ./minio server /mnt/data --console-address "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('":9001"')]),t._v("\n")])])]),s("p",[t._v("替换 "),s("code",[t._v("/data")]),t._v(" 为您希望 MinIO 存储数据的驱动器或目录的路径。")]),t._v(" "),s("p",[t._v("下表列出了支持的架构。将wgetURL替换为 Linux 主机的架构。")]),t._v(" "),s("p",[t._v("设置后台启动")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" /usr/local/bin/minio/minio server  /home/minio/data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /home/minio/data/minio.log "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])]),s("p",[t._v("其中：/home/minio/data/minio.log 是启动时日志文件的存放位置（可以是任意目录），minio.log 需要我们自己手动创建。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("CPU架构")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("URL")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("64-bit Intel/AMD")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://dl.min.io/server/minio/release/linux-amd64/minio")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("64-bit ARM")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://dl.min.io/server/minio/release/linux-arm64/minio")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("64-bit PowerPC LE (ppc64le)")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://dl.min.io/server/minio/release/linux-ppc64le/minio")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("IBM Z-Series (S390X)")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://dl.min.io/server/minio/release/linux-s390x/minio")])])])]),t._v(" "),s("h2",{attrs:{id:"微软windows系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微软windows系统"}},[t._v("#")]),t._v(" 微软Windows系统")]),t._v(" "),s("p",[t._v("要在 64 位 Windows 主机上运行 MinIO，请从以下 URL 下载 MinIO 可执行文件：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("CPU架构")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("URL")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("64-bit Intel/AMD")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://dl.minio.io/server/minio/release/windows-amd64/minio.exe")])])])]),t._v(" "),s("p",[t._v("使用以下命令在 Windows 主机上运行独立的 MinIO 服务器。替换 "),s("code",[t._v("F:\\Data")]),t._v(" 为您希望 MinIO 存储数据的驱动器或目录的路径。您必须将终端或 powershell 目录更改为minio.exe可执行文件的位置，或将该目录的路径添加到系统$PATH：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('PS> Invoke-WebRequest -Uri "https://dl.min.io/server/minio/release/windows-amd64/minio.exe" -OutFile "C:\\minio.exe"\nPS> setx MINIO_ROOT_USER admin\nPS> setx MINIO_ROOT_PASSWORD password\nPS> C:\\minio.exe server F:\\Data --console-address ":9001"\n')])])]),s("h2",{attrs:{id:"部署建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署建议"}},[t._v("#")]),t._v(" 部署建议")]),t._v(" "),s("h3",{attrs:{id:"允许防火墙的端口访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#允许防火墙的端口访问"}},[t._v("#")]),t._v(" 允许防火墙的端口访问")]),t._v(" "),s("p",[t._v("默认情况下，MinIO 使用端口 9000 来侦听传入连接。如果您的平台默认阻止该端口，您可能需要启用对该端口的访问。")]),t._v(" "),s("h3",{attrs:{id:"ufw"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ufw"}},[t._v("#")]),t._v(" ufw")]),t._v(" "),s("p",[t._v("对于启用了 ufw 的主机（基于 Debian 的发行版），您可以使用"),s("code",[t._v("ufw")]),t._v("命令来允许特定端口的流量。使用以下命令允许访问端口 9000")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v("\n")])])]),s("p",[t._v("下面的命令启用所有传入端口的流量，范围从 9000 到 9010。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("ufw allow "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v(":9010/tcp\n")])])]),s("h3",{attrs:{id:"firewall-cmd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#firewall-cmd"}},[t._v("#")]),t._v(" firewall-cmd")]),t._v(" "),s("p",[t._v("对于启用了 firewall-cmd (CentOS) 的主机，您可以使用"),s("code",[t._v("firewall-cmd")]),t._v("命令来允许特定端口的流量。使用以下命令允许访问端口 9000")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("firewall-cmd --get-active-zones\n")])])]),s("p",[t._v("此命令获取活动区域。现在，将端口规则应用于上面返回的相关区域。例如，如果区域是"),s("code",[t._v("public")]),t._v("，请使用")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("firewall-cmd --zone"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("public --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v("/tcp --permanent\n")])])]),s("p",[t._v("请注意，"),s("code",[t._v("permanent")]),t._v("确保规则在防火墙启动、重新启动或重新加载时是持久的。最后重新加载防火墙以使更改生效。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("firewall-cmd --reload\n")])])]),s("h3",{attrs:{id:"iptables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iptables"}},[t._v("#")]),t._v(" iptables")]),t._v(" "),s("p",[t._v("对于启用了 iptables 的主机（RHEL、CentOS 等），您可以使用"),s("code",[t._v("iptables")]),t._v("命令来启用进入特定端口的所有流量。使用以下命令允许\n访问端口 9000")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("iptables -A INPUT -p tcp --dport "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v(" -j ACCEPT\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" iptables restart\n")])])]),s("p",[t._v("下面的命令启用所有传入端口的流量，范围从 9000 到 9010。")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("iptables -A INPUT -p tcp --dport "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v(":9010 -j ACCEPT\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" iptables restart\n")])])]),s("h2",{attrs:{id:"已经存在的数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#已经存在的数据"}},[t._v("#")]),t._v(" 已经存在的数据")]),t._v(" "),s("p",[t._v("当在单块磁盘上部署Minio server,Minio server允许客户端访问数据目录下已经存在的数据。比如，如果Minio使用"),s("code",[t._v("minio server /mnt/data")]),t._v("启动，那么所有已经在"),s("code",[t._v("/mnt/data")]),t._v("目录下的数据都可以被客户端访问到。")]),t._v(" "),s("p",[t._v("上述描述对所有网关后端同样有效。")]),t._v(" "),s("h2",{attrs:{id:"使用minio浏览器进行验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用minio浏览器进行验证"}},[t._v("#")]),t._v(" 使用Minio浏览器进行验证")]),t._v(" "),s("p",[t._v("安装后使用浏览器访问"),s("a",{attrs:{href:"http://127.0.0.1:9001/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://127.0.0.1:9001"),s("OutboundLink")],1),t._v("，如果可以访问，则表示minio已经安装成功。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/2021-08-23_151102.png",alt:"Screenshot"}})]),t._v(" "),s("h2",{attrs:{id:"使用minio客户端-mc进行验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用minio客户端-mc进行验证"}},[t._v("#")]),t._v(" 使用Minio客户端 mc进行验证")]),t._v(" "),s("p",[s("code",[t._v("mc")]),t._v(" 提供了一些UNIX常用命令的替代品，像ls, cat, cp, mirror, diff这些。 它支持文件系统和亚马逊S3云存储服务。 更多信息请参考 "),s("a",{attrs:{href:"https://docs.minio.io/docs/minio-client-quickstart-guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("mc快速入门"),s("OutboundLink")],1),t._v(" 。")])])}),[],!1,null,null,null);a.default=r.exports}}]);