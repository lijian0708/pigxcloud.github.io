(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{565:function(t,a,e){"use strict";e.r(a);var n=e(29),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"minio多租户-multi-tenant-部署指南"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#minio多租户-multi-tenant-部署指南"}},[t._v("#")]),t._v(" Minio多租户（Multi-tenant）部署指南")]),t._v(" "),e("h2",{attrs:{id:"单机部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单机部署"}},[t._v("#")]),t._v(" 单机部署")]),t._v(" "),e("p",[t._v("要在单台机器上托管多个租户，为每个租户运行一个Minio server,使用不同的HTTPS端口、配置和数据目录。")]),t._v(" "),e("h4",{attrs:{id:"示例1-单主机-单磁盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例1-单主机-单磁盘"}},[t._v("#")]),t._v(" 示例1：单主机，单磁盘")]),t._v(" "),e("p",[t._v("以下示例在一块磁盘上托管三个租户。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("minio --config-dir ~/tenant1 server --address :9001 /data/tenant1minio --config-dir ~/tenant2 server --address :9002 /data/tenant2minio --config-dir ~/tenant3 server --address :9003 /data/tenant3\n")])])]),e("p",[e("img",{attrs:{src:"/img/2021-08-30_151105.jpg",alt:"示例1"}})]),t._v(" "),e("h4",{attrs:{id:"示例2-单主机-多块磁盘-erasure-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例2-单主机-多块磁盘-erasure-code"}},[t._v("#")]),t._v(" 示例2：单主机，多块磁盘 (erasure code)")]),t._v(" "),e("p",[t._v("以下示例在多块磁盘上托管三个租户。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("minio --config-dir ~/tenant1 server --address :9001 /disk1/data/tenant1 /disk2/data/tenant1 /disk3/data/tenant1 /disk4/data/tenant1minio --config-dir ~/tenant2 server --address :9002 /disk1/data/tenant2 /disk2/data/tenant2 /disk3/data/tenant2 /disk4/data/tenant2minio --config-dir ~/tenant3 server --address :9003 /disk1/data/tenant3 /disk2/data/tenant3 /disk3/data/tenant3 /disk4/data/tenant3\n")])])]),e("p",[e("img",{attrs:{src:"/img/2021-08-30_151106.jpg",alt:"示例2"}})]),t._v(" "),e("h2",{attrs:{id:"分布式部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分布式部署"}},[t._v("#")]),t._v(" 分布式部署")]),t._v(" "),e("p",[t._v("要在分布式环境中托管多个租户，同时运行多个分布式Minio实例。To host multiple tenants in a distributed environment, run several distributed Minio instances concurrently.")]),t._v(" "),e("h4",{attrs:{id:"示例3-多主机-多块磁盘-erasure-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#示例3-多主机-多块磁盘-erasure-code"}},[t._v("#")]),t._v(" 示例3 : 多主机，多块磁盘 (erasure code)")]),t._v(" "),e("p",[t._v("以下示例在一个4节点集群中托管三个租户。在4个节点里都执行下列命令：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("export MINIO_ACCESS_KEY=<TENANT1_ACCESS_KEY>export MINIO_SECRET_KEY=<TENANT1_SECRET_KEY>minio --config-dir ~/tenant1 server --address :9001 http://192.168.10.11/data/tenant1 http://192.168.10.12/data/tenant1 http://192.168.10.13/data/tenant1 http://192.168.10.14/data/tenant1export MINIO_ACCESS_KEY=<TENANT2_ACCESS_KEY>export MINIO_SECRET_KEY=<TENANT2_SECRET_KEY>minio --config-dir ~/tenant2 server --address :9002 http://192.168.10.11/data/tenant2 http://192.168.10.12/data/tenant2 http://192.168.10.13/data/tenant2 http://192.168.10.14/data/tenant2export MINIO_ACCESS_KEY=<TENANT3_ACCESS_KEY>export MINIO_SECRET_KEY=<TENANT3_SECRET_KEY>minio --config-dir ~/tenant3 server --address :9003 http://192.168.10.11/data/tenant3 http://192.168.10.12/data/tenant3 http://192.168.10.13/data/tenant3 http://192.168.10.14/data/tenant3\n")])])]),e("p",[e("img",{attrs:{src:"/img/2021-08-30_151107.jpg",alt:"示例3"}})]),t._v(" "),e("h2",{attrs:{id:"云端可伸缩部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#云端可伸缩部署"}},[t._v("#")]),t._v(" 云端可伸缩部署")]),t._v(" "),e("p",[t._v("对于大型多租户Minio部署，我们建议使用一个流行的容器编排平台，比如Kubernetes、DC/OS，或者是Docker Swarm.参考 "),e("a",{attrs:{href:"https://docs.min.io/docs/minio-deployment-quickstart-guide",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个文档"),e("OutboundLink")],1),t._v(" ,学习如何在编排平台中使用Minio。")]),t._v(" "),e("blockquote",[e("p",[t._v("原文: https://docs.min.io/docs/multi-tenant-minio-deployment-guide.html")])])])}),[],!1,null,null,null);a.default=r.exports}}]);