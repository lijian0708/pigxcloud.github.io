(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{518:function(a,s,t){"use strict";t.r(s);var e=t(29),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"部署前端itp项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署前端itp项目"}},[a._v("#")]),a._v(" 部署前端ITP项目")]),a._v(" "),t("h2",{attrs:{id:"拷贝itp-zip到-opt并解压"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拷贝itp-zip到-opt并解压"}},[a._v("#")]),a._v(" 拷贝itp.zip到"),t("code",[a._v("/opt")]),a._v("并解压")]),a._v(" "),t("h2",{attrs:{id:"检查修改node服务配置和项目配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查修改node服务配置和项目配置"}},[a._v("#")]),a._v(" 检查修改node服务配置和项目配置")]),a._v(" "),t("p",[a._v("node服务配置："),t("code",[a._v("/config/config.js")]),a._v(" 主要修改端口和api地址 项目配置："),t("code",[a._v("webApp/js/common/config_89dc744.js")])]),a._v(" "),t("h2",{attrs:{id:"淘宝镜像加速"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#淘宝镜像加速"}},[a._v("#")]),a._v(" 淘宝镜像加速")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --registry https://registry.npm.taobao.org\n")])])]),t("h2",{attrs:{id:"安装最新本pm2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装最新本pm2"}},[a._v("#")]),a._v(" 安装最新本pm2")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" pm2@latest -g\n")])])]),t("h2",{attrs:{id:"安装最新本fis3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装最新本fis3"}},[a._v("#")]),a._v(" 安装最新本fis3")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g fis3\n")])])]),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v("  i --production\n")])])]),t("h2",{attrs:{id:"启动服务命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动服务命令"}},[a._v("#")]),a._v(" 启动服务命令")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /opt\npm2 start ./bin/www -n ITP\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),t("p",[a._v("注：-n 服务名称，详细说明：http://pm2.keymetrics.io/docs/usage/quick-start/")])]),a._v(" "),t("h2",{attrs:{id:"查看pm2服务列表命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看pm2服务列表命令"}},[a._v("#")]),a._v(" 查看pm2服务列表命令")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pm2 list\n")])])]),t("h2",{attrs:{id:"重启命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重启命令"}},[a._v("#")]),a._v(" 重启命令")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pm2 restart "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("服务名或ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h2",{attrs:{id:"查看日志-pm2-log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看日志-pm2-log"}},[a._v("#")]),a._v(" 查看日志 pm2 log")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("pm2 log\n")])])]),t("h2",{attrs:{id:"创建开机启动脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建开机启动脚本"}},[a._v("#")]),a._v(" 创建开机启动脚本")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# touch /opt/start-service.sh")]),a._v("\n")])])]),t("p",[a._v("添加如下内容：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("#!/bin/sh\ncd /opt/ITP\npm2 start ./bin/www -n ITP\n")])])]),t("p",[a._v("赋予脚本文件执行权限")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# chmod +x start-service.sh")]),a._v("\n")])])]),t("h2",{attrs:{id:"添加开机启动项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加开机启动项目"}},[a._v("#")]),a._v(" 添加开机启动项目")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vi /etc/rc.local")]),a._v("\n")])])]),t("p",[a._v("添加")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("su - root -c '/opt/start-service.sh'\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);