<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dockerfile æŒ‡ä»¤è¯¦è§£ | Javaå…¨æ ˆ</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="ğŸš€æœ‰é“æ— æœ¯ï¼Œæœ¯å°šå¯æ±‚ï¼Œæœ‰æœ¯æ— é“ï¼Œæ­¢äºæœ¯">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.9b63dc7f.css" as="style"><link rel="preload" href="/assets/js/app.31569fb0.js" as="script"><link rel="preload" href="/assets/js/2.df69d635.js" as="script"><link rel="preload" href="/assets/js/146.55df497b.js" as="script"><link rel="prefetch" href="/assets/js/10.788e911f.js"><link rel="prefetch" href="/assets/js/100.5869e407.js"><link rel="prefetch" href="/assets/js/101.4735f8c8.js"><link rel="prefetch" href="/assets/js/102.0afc9257.js"><link rel="prefetch" href="/assets/js/103.deaaedc9.js"><link rel="prefetch" href="/assets/js/104.e5de9bfa.js"><link rel="prefetch" href="/assets/js/105.04f52d11.js"><link rel="prefetch" href="/assets/js/106.a0c4adf4.js"><link rel="prefetch" href="/assets/js/107.72cf41ff.js"><link rel="prefetch" href="/assets/js/108.2185b4f1.js"><link rel="prefetch" href="/assets/js/109.a1966f5b.js"><link rel="prefetch" href="/assets/js/11.76e4b896.js"><link rel="prefetch" href="/assets/js/110.f0666616.js"><link rel="prefetch" href="/assets/js/111.2d52e7dc.js"><link rel="prefetch" href="/assets/js/112.7705a466.js"><link rel="prefetch" href="/assets/js/113.2f1ab226.js"><link rel="prefetch" href="/assets/js/114.4aa4d6ae.js"><link rel="prefetch" href="/assets/js/115.4a9765c7.js"><link rel="prefetch" href="/assets/js/116.31d2b63f.js"><link rel="prefetch" href="/assets/js/117.d2af2299.js"><link rel="prefetch" href="/assets/js/118.70b7c00b.js"><link rel="prefetch" href="/assets/js/119.50227395.js"><link rel="prefetch" href="/assets/js/12.88aeacb8.js"><link rel="prefetch" href="/assets/js/120.b2f1f2eb.js"><link rel="prefetch" href="/assets/js/121.e9e3e5bf.js"><link rel="prefetch" href="/assets/js/122.8821ca4c.js"><link rel="prefetch" href="/assets/js/123.5c481679.js"><link rel="prefetch" href="/assets/js/124.90aefb34.js"><link rel="prefetch" href="/assets/js/125.3c2d8a2e.js"><link rel="prefetch" href="/assets/js/126.ca38566c.js"><link rel="prefetch" href="/assets/js/127.74131025.js"><link rel="prefetch" href="/assets/js/128.da48cef5.js"><link rel="prefetch" href="/assets/js/129.3122af0d.js"><link rel="prefetch" href="/assets/js/13.ef864632.js"><link rel="prefetch" href="/assets/js/130.1e22d289.js"><link rel="prefetch" href="/assets/js/131.706af342.js"><link rel="prefetch" href="/assets/js/132.50c671ee.js"><link rel="prefetch" href="/assets/js/133.db98fa8a.js"><link rel="prefetch" href="/assets/js/134.7fe8cf44.js"><link rel="prefetch" href="/assets/js/135.6219a109.js"><link rel="prefetch" href="/assets/js/136.27f3f774.js"><link rel="prefetch" href="/assets/js/137.b4e57291.js"><link rel="prefetch" href="/assets/js/138.82aaf97d.js"><link rel="prefetch" href="/assets/js/139.cab10f5a.js"><link rel="prefetch" href="/assets/js/14.ddfa3e6b.js"><link rel="prefetch" href="/assets/js/140.4b42a53f.js"><link rel="prefetch" href="/assets/js/141.ba14455a.js"><link rel="prefetch" href="/assets/js/142.4acedada.js"><link rel="prefetch" href="/assets/js/143.e89a5e92.js"><link rel="prefetch" href="/assets/js/144.27ae0dda.js"><link rel="prefetch" href="/assets/js/145.6bbfb61f.js"><link rel="prefetch" href="/assets/js/147.40936f4a.js"><link rel="prefetch" href="/assets/js/148.4be699c3.js"><link rel="prefetch" href="/assets/js/149.fc77592a.js"><link rel="prefetch" href="/assets/js/15.68f8ce44.js"><link rel="prefetch" href="/assets/js/150.e7fb1666.js"><link rel="prefetch" href="/assets/js/151.40ff52a0.js"><link rel="prefetch" href="/assets/js/152.fda432cf.js"><link rel="prefetch" href="/assets/js/153.1b165d6b.js"><link rel="prefetch" href="/assets/js/154.3bb5bcb3.js"><link rel="prefetch" href="/assets/js/155.6cd504f2.js"><link rel="prefetch" href="/assets/js/156.b1ff07fd.js"><link rel="prefetch" href="/assets/js/157.57a6101a.js"><link rel="prefetch" href="/assets/js/158.0a18c4db.js"><link rel="prefetch" href="/assets/js/159.89815b25.js"><link rel="prefetch" href="/assets/js/16.aff0328f.js"><link rel="prefetch" href="/assets/js/160.9a45fd99.js"><link rel="prefetch" href="/assets/js/161.82e463d5.js"><link rel="prefetch" href="/assets/js/162.5a06785b.js"><link rel="prefetch" href="/assets/js/163.08555c19.js"><link rel="prefetch" href="/assets/js/164.9f890f94.js"><link rel="prefetch" href="/assets/js/165.2e875427.js"><link rel="prefetch" href="/assets/js/166.3f418177.js"><link rel="prefetch" href="/assets/js/167.06c2cc48.js"><link rel="prefetch" href="/assets/js/168.3e5efe52.js"><link rel="prefetch" href="/assets/js/169.637e7376.js"><link rel="prefetch" href="/assets/js/17.125748af.js"><link rel="prefetch" href="/assets/js/170.319e96c6.js"><link rel="prefetch" href="/assets/js/171.a09af050.js"><link rel="prefetch" href="/assets/js/172.23d78708.js"><link rel="prefetch" href="/assets/js/173.c057313f.js"><link rel="prefetch" href="/assets/js/174.8d168208.js"><link rel="prefetch" href="/assets/js/175.d81d3c21.js"><link rel="prefetch" href="/assets/js/176.8ba38854.js"><link rel="prefetch" href="/assets/js/177.620927ce.js"><link rel="prefetch" href="/assets/js/178.3c001e58.js"><link rel="prefetch" href="/assets/js/179.0acd475a.js"><link rel="prefetch" href="/assets/js/18.fa6cd919.js"><link rel="prefetch" href="/assets/js/180.e910d853.js"><link rel="prefetch" href="/assets/js/181.7798460e.js"><link rel="prefetch" href="/assets/js/182.3c1fc210.js"><link rel="prefetch" href="/assets/js/183.8cc80600.js"><link rel="prefetch" href="/assets/js/184.fff56765.js"><link rel="prefetch" href="/assets/js/185.c63f91e5.js"><link rel="prefetch" href="/assets/js/186.7870decd.js"><link rel="prefetch" href="/assets/js/187.3cb205f3.js"><link rel="prefetch" href="/assets/js/188.3215c6b1.js"><link rel="prefetch" href="/assets/js/189.5e324d91.js"><link rel="prefetch" href="/assets/js/19.4bac67a7.js"><link rel="prefetch" href="/assets/js/190.71194c3e.js"><link rel="prefetch" href="/assets/js/191.3d513d7f.js"><link rel="prefetch" href="/assets/js/192.66f1b9c4.js"><link rel="prefetch" href="/assets/js/193.cfe9beef.js"><link rel="prefetch" href="/assets/js/194.d54494f6.js"><link rel="prefetch" href="/assets/js/195.91f8acc9.js"><link rel="prefetch" href="/assets/js/196.a727b0fb.js"><link rel="prefetch" href="/assets/js/197.dcd6487d.js"><link rel="prefetch" href="/assets/js/198.4734520f.js"><link rel="prefetch" href="/assets/js/199.4946dc06.js"><link rel="prefetch" href="/assets/js/20.c78801f0.js"><link rel="prefetch" href="/assets/js/200.72242046.js"><link rel="prefetch" href="/assets/js/201.87f62686.js"><link rel="prefetch" href="/assets/js/202.38ace3e6.js"><link rel="prefetch" href="/assets/js/203.2827a086.js"><link rel="prefetch" href="/assets/js/204.4c8342e0.js"><link rel="prefetch" href="/assets/js/205.e1de7f41.js"><link rel="prefetch" href="/assets/js/206.94f84999.js"><link rel="prefetch" href="/assets/js/207.95ca2dd7.js"><link rel="prefetch" href="/assets/js/208.f293b55a.js"><link rel="prefetch" href="/assets/js/209.056b496b.js"><link rel="prefetch" href="/assets/js/21.64cc6926.js"><link rel="prefetch" href="/assets/js/210.7f232344.js"><link rel="prefetch" href="/assets/js/211.748e6034.js"><link rel="prefetch" href="/assets/js/212.06e705a7.js"><link rel="prefetch" href="/assets/js/213.a9f317f4.js"><link rel="prefetch" href="/assets/js/214.65b257a7.js"><link rel="prefetch" href="/assets/js/215.1260a609.js"><link rel="prefetch" href="/assets/js/216.c1b39ca2.js"><link rel="prefetch" href="/assets/js/217.084bb897.js"><link rel="prefetch" href="/assets/js/218.02aa4cd9.js"><link rel="prefetch" href="/assets/js/219.35339213.js"><link rel="prefetch" href="/assets/js/22.cacbe2f9.js"><link rel="prefetch" href="/assets/js/220.1c043025.js"><link rel="prefetch" href="/assets/js/221.af0028af.js"><link rel="prefetch" href="/assets/js/222.43ea3237.js"><link rel="prefetch" href="/assets/js/223.8c59c2c8.js"><link rel="prefetch" href="/assets/js/224.ceff003f.js"><link rel="prefetch" href="/assets/js/225.d7aa9f36.js"><link rel="prefetch" href="/assets/js/226.7d7574e8.js"><link rel="prefetch" href="/assets/js/227.3786dac4.js"><link rel="prefetch" href="/assets/js/228.67433714.js"><link rel="prefetch" href="/assets/js/229.874cf521.js"><link rel="prefetch" href="/assets/js/23.70f001e8.js"><link rel="prefetch" href="/assets/js/230.63255993.js"><link rel="prefetch" href="/assets/js/231.2771635e.js"><link rel="prefetch" href="/assets/js/232.1a846631.js"><link rel="prefetch" href="/assets/js/233.7950c15f.js"><link rel="prefetch" href="/assets/js/234.9c9d2947.js"><link rel="prefetch" href="/assets/js/235.3423e660.js"><link rel="prefetch" href="/assets/js/236.2d15acb2.js"><link rel="prefetch" href="/assets/js/237.5e3e145a.js"><link rel="prefetch" href="/assets/js/238.ffb20d88.js"><link rel="prefetch" href="/assets/js/239.2d0bd5a9.js"><link rel="prefetch" href="/assets/js/24.e4a1dc80.js"><link rel="prefetch" href="/assets/js/240.987df996.js"><link rel="prefetch" href="/assets/js/241.9e67aa11.js"><link rel="prefetch" href="/assets/js/242.20c57ba1.js"><link rel="prefetch" href="/assets/js/243.b3b4e01f.js"><link rel="prefetch" href="/assets/js/25.607f30bb.js"><link rel="prefetch" href="/assets/js/26.60c54e7d.js"><link rel="prefetch" href="/assets/js/27.48c44b2e.js"><link rel="prefetch" href="/assets/js/28.eb44c0ba.js"><link rel="prefetch" href="/assets/js/29.3f35baff.js"><link rel="prefetch" href="/assets/js/3.c76bdb66.js"><link rel="prefetch" href="/assets/js/30.5ceb6f39.js"><link rel="prefetch" href="/assets/js/31.df68a33c.js"><link rel="prefetch" href="/assets/js/32.0870e048.js"><link rel="prefetch" href="/assets/js/33.3b446daa.js"><link rel="prefetch" href="/assets/js/34.fd564325.js"><link rel="prefetch" href="/assets/js/35.0e1dceb3.js"><link rel="prefetch" href="/assets/js/36.6ea040e9.js"><link rel="prefetch" href="/assets/js/37.d0f64292.js"><link rel="prefetch" href="/assets/js/38.da592564.js"><link rel="prefetch" href="/assets/js/39.f2413731.js"><link rel="prefetch" href="/assets/js/4.ce850d9b.js"><link rel="prefetch" href="/assets/js/40.7c003d2a.js"><link rel="prefetch" href="/assets/js/41.61dee31e.js"><link rel="prefetch" href="/assets/js/42.dc1cfeb4.js"><link rel="prefetch" href="/assets/js/43.3fe14024.js"><link rel="prefetch" href="/assets/js/44.b66c9969.js"><link rel="prefetch" href="/assets/js/45.281f7712.js"><link rel="prefetch" href="/assets/js/46.fb40bb01.js"><link rel="prefetch" href="/assets/js/47.311785d3.js"><link rel="prefetch" href="/assets/js/48.0070f89f.js"><link rel="prefetch" href="/assets/js/49.0a752342.js"><link rel="prefetch" href="/assets/js/5.1faa936b.js"><link rel="prefetch" href="/assets/js/50.d46282a9.js"><link rel="prefetch" href="/assets/js/51.5a52f209.js"><link rel="prefetch" href="/assets/js/52.1ec82ee7.js"><link rel="prefetch" href="/assets/js/53.01e08d71.js"><link rel="prefetch" href="/assets/js/54.0ef033a3.js"><link rel="prefetch" href="/assets/js/55.602b8614.js"><link rel="prefetch" href="/assets/js/56.3a886341.js"><link rel="prefetch" href="/assets/js/57.feae1a28.js"><link rel="prefetch" href="/assets/js/58.6d2f12be.js"><link rel="prefetch" href="/assets/js/59.9325c1da.js"><link rel="prefetch" href="/assets/js/6.5a088ba5.js"><link rel="prefetch" href="/assets/js/60.a265bf7c.js"><link rel="prefetch" href="/assets/js/61.30146ded.js"><link rel="prefetch" href="/assets/js/62.662b760a.js"><link rel="prefetch" href="/assets/js/63.5d59c7f0.js"><link rel="prefetch" href="/assets/js/64.faabd330.js"><link rel="prefetch" href="/assets/js/65.9ced9383.js"><link rel="prefetch" href="/assets/js/66.2ff8ca8d.js"><link rel="prefetch" href="/assets/js/67.9000451e.js"><link rel="prefetch" href="/assets/js/68.c63a2ef0.js"><link rel="prefetch" href="/assets/js/69.8c8e119e.js"><link rel="prefetch" href="/assets/js/7.8f4bed74.js"><link rel="prefetch" href="/assets/js/70.de3ec280.js"><link rel="prefetch" href="/assets/js/71.0009b157.js"><link rel="prefetch" href="/assets/js/72.31a06f9d.js"><link rel="prefetch" href="/assets/js/73.e84721d3.js"><link rel="prefetch" href="/assets/js/74.8da44d3d.js"><link rel="prefetch" href="/assets/js/75.0c64e4b0.js"><link rel="prefetch" href="/assets/js/76.3db2aba9.js"><link rel="prefetch" href="/assets/js/77.b00b1560.js"><link rel="prefetch" href="/assets/js/78.53a1c343.js"><link rel="prefetch" href="/assets/js/79.1218161f.js"><link rel="prefetch" href="/assets/js/8.b1937d38.js"><link rel="prefetch" href="/assets/js/80.b85cb7a2.js"><link rel="prefetch" href="/assets/js/81.d4f058f7.js"><link rel="prefetch" href="/assets/js/82.bd0f843c.js"><link rel="prefetch" href="/assets/js/83.b6f1d5c6.js"><link rel="prefetch" href="/assets/js/84.e3469377.js"><link rel="prefetch" href="/assets/js/85.1f3e7bd0.js"><link rel="prefetch" href="/assets/js/86.179e9bc8.js"><link rel="prefetch" href="/assets/js/87.9c3f44b4.js"><link rel="prefetch" href="/assets/js/88.79659ee4.js"><link rel="prefetch" href="/assets/js/89.bea5895d.js"><link rel="prefetch" href="/assets/js/9.ebe72a00.js"><link rel="prefetch" href="/assets/js/90.a7bf2270.js"><link rel="prefetch" href="/assets/js/91.82f3a339.js"><link rel="prefetch" href="/assets/js/92.89864afc.js"><link rel="prefetch" href="/assets/js/93.6a775a5a.js"><link rel="prefetch" href="/assets/js/94.dede140a.js"><link rel="prefetch" href="/assets/js/95.e182e5da.js"><link rel="prefetch" href="/assets/js/96.bca74f0c.js"><link rel="prefetch" href="/assets/js/97.0b7a1a08.js"><link rel="prefetch" href="/assets/js/98.33ae82c8.js"><link rel="prefetch" href="/assets/js/99.4f690b51.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9b63dc7f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Javaå…¨æ ˆ" class="logo"> <span class="site-name can-hide">Javaå…¨æ ˆ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŒ‡å—" class="dropdown-title"><!----> <span class="title" style="display:;">æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>åŸºç¡€</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/250f21/" class="nav-link">åŸºç¡€è®¾æ–½å³æœåŠ¡</a></li><li class="dropdown-subitem"><a href="/pages/f04654/" class="nav-link">å¹³å°å³æœåŠ¡</a></li><li class="dropdown-subitem"><a href="/pages/58bcba/" class="nav-link">å¾®æœåŠ¡è§£å†³å¤æ‚é—®é¢˜</a></li><li class="dropdown-subitem"><a href="/pages/b05793/" class="nav-link">Spring Cloud</a></li><li class="dropdown-subitem"><a href="/pages/1946f3/" class="nav-link">Spring Cloud Alibaba</a></li></ul></li><li class="dropdown-item"><h4>é«˜çº§</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/aeaf26/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/pages/059418/" class="nav-link">Kubernetes</a></li></ul></li><li class="dropdown-item"><h4>ä¸“é¢˜</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/fbef9a/" class="nav-link">Spring Security OAuth2</a></li><li class="dropdown-subitem"><a href="/pages/72ccd6/" class="nav-link">ä¼ä¸šçº§ DevOps CI/CDå®è·µ</a></li><li class="dropdown-subitem"><a href="/pages/d49c54/" class="nav-link">Simplify Docs</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åœ¨çº¿æ–‡æ¡£" class="dropdown-title"><!----> <span class="title" style="display:;">åœ¨çº¿æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å‰ç«¯æ–‡æ¡£</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element - ç½‘ç«™å¿«é€Ÿæˆå‹å·¥å…·
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://lodash.com/docs/#defaultsDeep" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lodash Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://zh.nuxtjs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxt.js - Vue.js é€šç”¨åº”ç”¨æ¡†æ¶
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cn.vuejs.org/v2/api/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cli.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue CLI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://vuex.vuejs.org/zh/api/#vuex-store" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.vuepress.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress ä¸­æ–‡æ–‡æ¡£
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>åç«¯æ–‡æ¡£</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ifeve.com/google-guava/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Google Guavaå®˜æ–¹æ•™ç¨‹
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åœ¨çº¿å·¥å…·" class="dropdown-title"><!----> <span class="title" style="display:;">åœ¨çº¿å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>åœ¨çº¿ç¼–è¾‘</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://excalidraw.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åœ¨çº¿ç™½æ¿
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.bejson.com/jsoneditoronline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON ç¼–è¾‘å™¨
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD è¡¨æ ¼ç”Ÿæˆ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON è¡¨è¾¾å¼
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.oschina.net/codeformat/html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ä»£ç æ ¼å¼åŒ–
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cli.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  äºŒç»´ç ç”Ÿæˆå™¨
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://tool.chinaz.com/tools/native_ascii.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åœ¨çº¿ç¼–ç è½¬æ¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>åœ¨çº¿æœåŠ¡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.processon.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æµç¨‹å›¾æ€ç»´å¯¼å›¾
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://excalidraw.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç”»å›¾å·¥å…·
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>å¼€æºé•œåƒ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.aliyun.com/mirror/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OPSXé•œåƒç«™
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://mirror.azure.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AZUREé•œåƒç«™
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker Hub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pages/1b12ed/" class="nav-link">ğŸ’–æ”¯æŒ</a></div><div class="nav-item"><a href="https://www.pigcs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  è¿”å›æ—§ç‰ˆ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŒ‡å—" class="dropdown-title"><!----> <span class="title" style="display:;">æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>åŸºç¡€</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/250f21/" class="nav-link">åŸºç¡€è®¾æ–½å³æœåŠ¡</a></li><li class="dropdown-subitem"><a href="/pages/f04654/" class="nav-link">å¹³å°å³æœåŠ¡</a></li><li class="dropdown-subitem"><a href="/pages/58bcba/" class="nav-link">å¾®æœåŠ¡è§£å†³å¤æ‚é—®é¢˜</a></li><li class="dropdown-subitem"><a href="/pages/b05793/" class="nav-link">Spring Cloud</a></li><li class="dropdown-subitem"><a href="/pages/1946f3/" class="nav-link">Spring Cloud Alibaba</a></li></ul></li><li class="dropdown-item"><h4>é«˜çº§</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/aeaf26/" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/pages/059418/" class="nav-link">Kubernetes</a></li></ul></li><li class="dropdown-item"><h4>ä¸“é¢˜</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/fbef9a/" class="nav-link">Spring Security OAuth2</a></li><li class="dropdown-subitem"><a href="/pages/72ccd6/" class="nav-link">ä¼ä¸šçº§ DevOps CI/CDå®è·µ</a></li><li class="dropdown-subitem"><a href="/pages/d49c54/" class="nav-link">Simplify Docs</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åœ¨çº¿æ–‡æ¡£" class="dropdown-title"><!----> <span class="title" style="display:;">åœ¨çº¿æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å‰ç«¯æ–‡æ¡£</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://element.eleme.cn/#/zh-CN" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Element - ç½‘ç«™å¿«é€Ÿæˆå‹å·¥å…·
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://lodash.com/docs/#defaultsDeep" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Lodash Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://zh.nuxtjs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nuxt.js - Vue.js é€šç”¨åº”ç”¨æ¡†æ¶
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cn.vuejs.org/v2/api/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cli.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue CLI
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://vuex.vuejs.org/zh/api/#vuex-store" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuex
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.vuepress.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress ä¸­æ–‡æ–‡æ¡£
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>åç«¯æ–‡æ¡£</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://ifeve.com/google-guava/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Google Guavaå®˜æ–¹æ•™ç¨‹
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åœ¨çº¿å·¥å…·" class="dropdown-title"><!----> <span class="title" style="display:;">åœ¨çº¿å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>åœ¨çº¿ç¼–è¾‘</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://excalidraw.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åœ¨çº¿ç™½æ¿
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.bejson.com/jsoneditoronline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JSON ç¼–è¾‘å™¨
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tableconvert.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MD è¡¨æ ¼ç”Ÿæˆ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CRON è¡¨è¾¾å¼
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.oschina.net/codeformat/html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ä»£ç æ ¼å¼åŒ–
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cli.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  äºŒç»´ç ç”Ÿæˆå™¨
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="http://tool.chinaz.com/tools/native_ascii.aspx" target="_blank" rel="noopener noreferrer" class="nav-link external">
  åœ¨çº¿ç¼–ç è½¬æ¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>åœ¨çº¿æœåŠ¡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.processon.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æµç¨‹å›¾æ€ç»´å¯¼å›¾
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://excalidraw.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç”»å›¾å·¥å…·
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>å¼€æºé•œåƒ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.aliyun.com/mirror/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OPSXé•œåƒç«™
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://mirror.azure.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  AZUREé•œåƒç«™
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker Hub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pages/1b12ed/" class="nav-link">ğŸ’–æ”¯æŒ</a></div><div class="nav-item"><a href="https://www.pigcs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  è¿”å›æ—§ç‰ˆ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/555c55/" class="sidebar-link">ä»€ä¹ˆæ˜¯ Docker</a></li><li><a href="/pages/d1d9db/" class="sidebar-link">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Docker</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker åŸºæœ¬æ¦‚å¿µ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/ad1da1/" class="sidebar-link">Docker åŸºæœ¬æ¦‚å¿µ</a></li><li><a href="/pages/77a885/" class="sidebar-link">Docker å¼•æ“</a></li><li><a href="/pages/f566e4/" class="sidebar-link">Docker ç³»ç»Ÿæ¶æ„</a></li><li><a href="/pages/546146/" class="sidebar-link">Docker é•œåƒ</a></li><li><a href="/pages/c9e8a8/" class="sidebar-link">Docker å®¹å™¨</a></li><li><a href="/pages/f00cd0/" class="sidebar-link">Docker ä»“åº“</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å®‰è£… Docker</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/11ef44/" class="sidebar-link">å®‰è£… Docker</a></li><li><a href="/pages/748872/" class="sidebar-link">Ubuntu å®‰è£… Docker</a></li><li><a href="/pages/102284/" class="sidebar-link">CentOS å®‰è£… Docker</a></li><li><a href="/pages/847488/" class="sidebar-link">macOS å®‰è£… Docker</a></li><li><a href="/pages/c4f755/" class="sidebar-link">Windows å®‰è£… Docker</a></li><li><a href="/pages/87062e/" class="sidebar-link">Docker é•œåƒåŠ é€Ÿå™¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Docker é•œåƒ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/13e1d1/" class="sidebar-link">ä½¿ç”¨ Docker é•œåƒ</a></li><li><a href="/pages/840a1a/" class="sidebar-link">Docker è·å–é•œåƒ</a></li><li><a href="/pages/be83bd/" class="sidebar-link">Docker åˆ—å‡ºé•œåƒ</a></li><li><a href="/pages/058894/" class="sidebar-link">Docker åˆ é™¤æœ¬åœ°é•œåƒ</a></li><li><a href="/pages/79f5f4/" class="sidebar-link">Docker é•œåƒå¯¼å…¥å¯¼å‡º</a></li><li><a href="/pages/134f38/" class="sidebar-link">åˆ©ç”¨ commit ç†è§£é•œåƒæ„æˆ</a></li><li><a href="/pages/ffea77/" class="sidebar-link">ä½¿ç”¨ Dockerfile å®šåˆ¶é•œåƒ</a></li><li><a href="/pages/6d2add/" aria-current="page" class="active sidebar-link">Dockerfile æŒ‡ä»¤è¯¦è§£</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/6d2add/#copy-å¤åˆ¶æ–‡ä»¶" class="sidebar-link">COPY å¤åˆ¶æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#add-æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶" class="sidebar-link">ADD æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#cmd-å®¹å™¨å¯åŠ¨å‘½ä»¤" class="sidebar-link">CMD å®¹å™¨å¯åŠ¨å‘½ä»¤</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#entrypoint-å…¥å£ç‚¹" class="sidebar-link">ENTRYPOINT å…¥å£ç‚¹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/6d2add/#åœºæ™¯ä¸€-è®©é•œåƒå˜æˆåƒå‘½ä»¤ä¸€æ ·ä½¿ç”¨" class="sidebar-link">åœºæ™¯ä¸€ï¼šè®©é•œåƒå˜æˆåƒå‘½ä»¤ä¸€æ ·ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#åœºæ™¯äºŒ-åº”ç”¨è¿è¡Œå‰çš„å‡†å¤‡å·¥ä½œ" class="sidebar-link">åœºæ™¯äºŒï¼šåº”ç”¨è¿è¡Œå‰çš„å‡†å¤‡å·¥ä½œ</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#env-è®¾ç½®ç¯å¢ƒå˜é‡" class="sidebar-link">ENV è®¾ç½®ç¯å¢ƒå˜é‡</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#arg-æ„å»ºå‚æ•°" class="sidebar-link">ARG æ„å»ºå‚æ•°</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#volume-å®šä¹‰åŒ¿åå·" class="sidebar-link">VOLUME å®šä¹‰åŒ¿åå·</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#expose-æš´éœ²ç«¯å£" class="sidebar-link">EXPOSE æš´éœ²ç«¯å£</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#workdir-æŒ‡å®šå·¥ä½œç›®å½•" class="sidebar-link">WORKDIR æŒ‡å®šå·¥ä½œç›®å½•</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#user-æŒ‡å®šå½“å‰ç”¨æˆ·" class="sidebar-link">USER æŒ‡å®šå½“å‰ç”¨æˆ·</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#healthcheck-å¥åº·æ£€æŸ¥" class="sidebar-link">HEALTHCHECK å¥åº·æ£€æŸ¥</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#onbuild-ä¸ºä»–äººä½œå«è¡£" class="sidebar-link">ONBUILD ä¸ºä»–äººä½œå«è¡£</a></li><li class="sidebar-sub-header"><a href="/pages/6d2add/#å‚è€ƒæ–‡æ¡£" class="sidebar-link">å‚è€ƒæ–‡æ¡£</a></li></ul></li><li><a href="/pages/f99491/" class="sidebar-link">Dockerfile å¤šé˜¶æ®µæ„å»º</a></li><li><a href="/pages/3937d4/" class="sidebar-link">é•œåƒçš„å®ç°åŸç†</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker å®¹å™¨</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/7e034a/" class="sidebar-link">æ“ä½œ Docker å®¹å™¨</a></li><li><a href="/pages/f5a508/" class="sidebar-link">Docker å¯åŠ¨å®¹å™¨</a></li><li><a href="/pages/4c0f60/" class="sidebar-link">Docker å®ˆæŠ¤æ€è¿è¡Œ</a></li><li><a href="/pages/a777e4/" class="sidebar-link">Docker ç»ˆæ­¢å®¹å™¨</a></li><li><a href="/pages/9efa8d/" class="sidebar-link">Docker è¿›å…¥å®¹å™¨</a></li><li><a href="/pages/d3a79f/" class="sidebar-link">Docker å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨</a></li><li><a href="/pages/8b2f36/" class="sidebar-link">Docker åˆ é™¤å®¹å™¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>è®¿é—® Docker ä»“åº“</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/c0886b/" class="sidebar-link">è®¿é—® Docker ä»“åº“</a></li><li><a href="/pages/ebce48/" class="sidebar-link">Docker Hub</a></li><li><a href="/pages/92e266/" class="sidebar-link">Docker ç§æœ‰ä»“åº“</a></li><li><a href="/pages/141d21/" class="sidebar-link">Docker ç§æœ‰ä»“åº“é«˜çº§é…ç½®</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker æ•°æ®ç®¡ç†</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/bcfae7/" class="sidebar-link">Docker æ•°æ®ç®¡ç†</a></li><li><a href="/pages/5f0882/" class="sidebar-link">Docker æ•°æ®å·</a></li><li><a href="/pages/565ee4/" class="sidebar-link">ç›‘å¬ä¸»æœºç›®å½•</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Docker ä¸‰å‰‘å®¢ Compose</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e17a65/" class="sidebar-link">ä»€ä¹ˆæ˜¯ Docker Compose</a></li><li><a href="/pages/f7fbae/" class="sidebar-link">Docker Compose å®‰è£…ä¸å¸è½½</a></li><li><a href="/pages/a48959/" class="sidebar-link">Docker Compose å…¥é—¨</a></li><li><a href="/pages/cddd90/" class="sidebar-link">Docker Compose å‘½ä»¤è¯´æ˜</a></li><li><a href="/pages/5e9e65/" class="sidebar-link">Docker Compose æ¨¡æ¿æ–‡ä»¶</a></li><li><a href="/pages/7285c6/" class="sidebar-link">Docker Compose å®æˆ˜ WordPress</a></li><li><a href="/pages/8a9ceb/" class="sidebar-link">Docker Compose å®æˆ˜ Tomcat</a></li><li><a href="/pages/853cbd/" class="sidebar-link">Docker Compose å®æˆ˜ MySQL</a></li><li><a href="/pages/f508e3/" class="sidebar-link">Docker Compose å¸¸ç”¨å‘½ä»¤</a></li><li><a href="/pages/bd41de/" class="sidebar-link">YAML é…ç½®æ–‡ä»¶è¯­è¨€</a></li><li><a href="/pages/0c8168/" class="sidebar-link">é™„ï¼šä¸ºä»€ä¹ˆè¯´ JSON ä¸é€‚åˆåšé…ç½®æ–‡ä»¶ï¼Ÿ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>å¸¸è§é—®é¢˜</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/be0094/" class="sidebar-link">dockerç£ç›˜ç©ºé—´ä¸è¶³è§£å†³åŠæ³•</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><span data-v-0c557b5e>Docker</span></li><li data-v-0c557b5e><span data-v-0c557b5e>Docker é•œåƒ</span></li></ul> <div class="info" data-v-0c557b5e><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/heyuqiang" target="_blank" title="ä½œè€…" class="beLink" data-v-0c557b5e>heyuqiang</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-02-08</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Dockerfile æŒ‡ä»¤è¯¦è§£<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="dockerfile-æŒ‡ä»¤è¯¦è§£"><a href="#dockerfile-æŒ‡ä»¤è¯¦è§£" class="header-anchor">#</a> Dockerfile æŒ‡ä»¤è¯¦è§£</h1> <p>æˆ‘ä»¬å·²ç»ä»‹ç»äº† <code>FROM</code>ï¼Œ<code>RUN</code>ï¼Œè¿˜æåŠäº† <code>COPY</code>, <code>ADD</code>ï¼Œå…¶å® <code>Dockerfile</code> åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œå®ƒæä¾›äº†åå¤šä¸ªæŒ‡ä»¤ã€‚ä¸‹é¢æˆ‘ä»¬ç»§ç»­è®²è§£å…¶ä»–çš„æŒ‡ä»¤ã€‚</p> <h2 id="copy-å¤åˆ¶æ–‡ä»¶"><a href="#copy-å¤åˆ¶æ–‡ä»¶" class="header-anchor">#</a> COPY å¤åˆ¶æ–‡ä»¶</h2> <p>æ ¼å¼ï¼š</p> <ul><li><code>COPY &lt;æºè·¯å¾„&gt;... &lt;ç›®æ ‡è·¯å¾„&gt;</code></li> <li><code>COPY [&quot;&lt;æºè·¯å¾„1&gt;&quot;,... &quot;&lt;ç›®æ ‡è·¯å¾„&gt;&quot;]</code></li></ul> <p>å’Œ <code>RUN</code> æŒ‡ä»¤ä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§ç±»ä¼¼äºå‘½ä»¤è¡Œï¼Œä¸€ç§ç±»ä¼¼äºå‡½æ•°è°ƒç”¨ã€‚</p> <p><code>COPY</code> æŒ‡ä»¤å°†ä»æ„å»ºä¸Šä¸‹æ–‡ç›®å½•ä¸­ <code>&lt;æºè·¯å¾„&gt;</code> çš„æ–‡ä»¶/ç›®å½•å¤åˆ¶åˆ°æ–°çš„ä¸€å±‚çš„é•œåƒå†…çš„ <code>&lt;ç›®æ ‡è·¯å¾„&gt;</code> ä½ç½®ã€‚æ¯”å¦‚ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">COPY</span> package.json /usr/src/app/</span>
</code></pre></div><p><code>&lt;æºè·¯å¾„&gt;</code> å¯ä»¥æ˜¯å¤šä¸ªï¼Œç”šè‡³å¯ä»¥æ˜¯é€šé…ç¬¦ï¼Œå…¶é€šé…ç¬¦è§„åˆ™è¦æ»¡è¶³ Go çš„ <a href="https://golang.org/pkg/path/filepath/#Match" target="_blank" rel="noopener noreferrer"><code>filepath.Match</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è§„åˆ™ï¼Œå¦‚ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">COPY</span> hom* /mydir/</span>
<span class="token instruction"><span class="token keyword">COPY</span> hom?.txt /mydir/</span>
</code></pre></div><p><code>&lt;ç›®æ ‡è·¯å¾„&gt;</code> å¯ä»¥æ˜¯å®¹å™¨å†…çš„ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹äºå·¥ä½œç›®å½•çš„ç›¸å¯¹è·¯å¾„ï¼ˆå·¥ä½œç›®å½•å¯ä»¥ç”¨ <code>WORKDIR</code> æŒ‡ä»¤æ¥æŒ‡å®šï¼‰ã€‚ç›®æ ‡è·¯å¾„ä¸éœ€è¦äº‹å…ˆåˆ›å»ºï¼Œå¦‚æœç›®å½•ä¸å­˜åœ¨ä¼šåœ¨å¤åˆ¶æ–‡ä»¶å‰å…ˆè¡Œåˆ›å»ºç¼ºå¤±ç›®å½•ã€‚</p> <p>æ­¤å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä½¿ç”¨ <code>COPY</code> æŒ‡ä»¤ï¼Œæºæ–‡ä»¶çš„å„ç§å…ƒæ•°æ®éƒ½ä¼šä¿ç•™ã€‚æ¯”å¦‚è¯»ã€å†™ã€æ‰§è¡Œæƒé™ã€æ–‡ä»¶å˜æ›´æ—¶é—´ç­‰ã€‚è¿™ä¸ªç‰¹æ€§å¯¹äºé•œåƒå®šåˆ¶å¾ˆæœ‰ç”¨ã€‚ç‰¹åˆ«æ˜¯æ„å»ºç›¸å…³æ–‡ä»¶éƒ½åœ¨ä½¿ç”¨ Git è¿›è¡Œç®¡ç†çš„æ—¶å€™ã€‚</p> <h2 id="add-æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶"><a href="#add-æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶" class="header-anchor">#</a> ADD æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶</h2> <p><code>ADD</code> æŒ‡ä»¤å’Œ <code>COPY</code> çš„æ ¼å¼å’Œæ€§è´¨åŸºæœ¬ä¸€è‡´ã€‚ä½†æ˜¯åœ¨ <code>COPY</code> åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›åŠŸèƒ½ã€‚</p> <p>æ¯”å¦‚ <code>&lt;æºè·¯å¾„&gt;</code> å¯ä»¥æ˜¯ä¸€ä¸ª <code>URL</code>ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒDocker å¼•æ“ä¼šè¯•å›¾å»ä¸‹è½½è¿™ä¸ªé“¾æ¥çš„æ–‡ä»¶æ”¾åˆ° <code>&lt;ç›®æ ‡è·¯å¾„&gt;</code> å»ã€‚ä¸‹è½½åçš„æ–‡ä»¶æƒé™è‡ªåŠ¨è®¾ç½®ä¸º <code>600</code>ï¼Œå¦‚æœè¿™å¹¶ä¸æ˜¯æƒ³è¦çš„æƒé™ï¼Œé‚£ä¹ˆè¿˜éœ€è¦å¢åŠ é¢å¤–çš„ä¸€å±‚ <code>RUN</code> è¿›è¡Œæƒé™è°ƒæ•´ï¼Œå¦å¤–ï¼Œå¦‚æœä¸‹è½½çš„æ˜¯ä¸ªå‹ç¼©åŒ…ï¼Œéœ€è¦è§£å‹ç¼©ï¼Œä¹Ÿä¸€æ ·è¿˜éœ€è¦é¢å¤–çš„ä¸€å±‚ <code>RUN</code> æŒ‡ä»¤è¿›è¡Œè§£å‹ç¼©ã€‚æ‰€ä»¥ä¸å¦‚ç›´æ¥ä½¿ç”¨ <code>RUN</code> æŒ‡ä»¤ï¼Œç„¶åä½¿ç”¨ <code>wget</code> æˆ–è€… <code>curl</code> å·¥å…·ä¸‹è½½ï¼Œå¤„ç†æƒé™ã€è§£å‹ç¼©ã€ç„¶åæ¸…ç†æ— ç”¨æ–‡ä»¶æ›´åˆç†ã€‚å› æ­¤ï¼Œè¿™ä¸ªåŠŸèƒ½å…¶å®å¹¶ä¸å®ç”¨ï¼Œè€Œä¸”ä¸æ¨èä½¿ç”¨ã€‚</p> <p>å¦‚æœ <code>&lt;æºè·¯å¾„&gt;</code> ä¸ºä¸€ä¸ª <code>tar</code> å‹ç¼©æ–‡ä»¶çš„è¯ï¼Œå‹ç¼©æ ¼å¼ä¸º <code>gzip</code>, <code>bzip2</code> ä»¥åŠ <code>xz</code> çš„æƒ…å†µä¸‹ï¼Œ<code>ADD</code> æŒ‡ä»¤å°†ä¼šè‡ªåŠ¨è§£å‹ç¼©è¿™ä¸ªå‹ç¼©æ–‡ä»¶åˆ° <code>&lt;ç›®æ ‡è·¯å¾„&gt;</code> å»ã€‚</p> <p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè‡ªåŠ¨è§£å‹ç¼©çš„åŠŸèƒ½éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚å®˜æ–¹é•œåƒ <code>ubuntu</code> ä¸­ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> scratch</span>
<span class="token instruction"><span class="token keyword">ADD</span> ubuntu-xenial-core-cloudimg-amd64-root.tar.gz /</span>
...
</code></pre></div><p>ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬çœŸçš„æ˜¯å¸Œæœ›å¤åˆ¶ä¸ªå‹ç¼©æ–‡ä»¶è¿›å»ï¼Œè€Œä¸è§£å‹ç¼©ï¼Œè¿™æ—¶å°±ä¸å¯ä»¥ä½¿ç”¨ <code>ADD</code> å‘½ä»¤äº†ã€‚</p> <p>åœ¨ Docker å®˜æ–¹çš„ <a href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/" target="_blank" rel="noopener noreferrer">Dockerfile æœ€ä½³å®è·µæ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸­è¦æ±‚ï¼Œå°½å¯èƒ½çš„ä½¿ç”¨ <code>COPY</code>ï¼Œå› ä¸º <code>COPY</code> çš„è¯­ä¹‰å¾ˆæ˜ç¡®ï¼Œå°±æ˜¯å¤åˆ¶æ–‡ä»¶è€Œå·²ï¼Œè€Œ <code>ADD</code> åˆ™åŒ…å«äº†æ›´å¤æ‚çš„åŠŸèƒ½ï¼Œå…¶è¡Œä¸ºä¹Ÿä¸ä¸€å®šå¾ˆæ¸…æ™°ã€‚æœ€é€‚åˆä½¿ç”¨ <code>ADD</code> çš„åœºåˆï¼Œå°±æ˜¯æ‰€æåŠçš„éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆã€‚</p> <p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>ADD</code> æŒ‡ä»¤ä¼šä»¤é•œåƒæ„å»ºç¼“å­˜å¤±æ•ˆï¼Œä»è€Œå¯èƒ½ä¼šä»¤é•œåƒæ„å»ºå˜å¾—æ¯”è¾ƒç¼“æ…¢ã€‚</p> <p>å› æ­¤åœ¨ <code>COPY</code> å’Œ <code>ADD</code> æŒ‡ä»¤ä¸­é€‰æ‹©çš„æ—¶å€™ï¼Œå¯ä»¥éµå¾ªè¿™æ ·çš„åŸåˆ™ï¼Œæ‰€æœ‰çš„æ–‡ä»¶å¤åˆ¶å‡ä½¿ç”¨ <code>COPY</code> æŒ‡ä»¤ï¼Œä»…åœ¨éœ€è¦è‡ªåŠ¨è§£å‹ç¼©çš„åœºåˆä½¿ç”¨ <code>ADD</code>ã€‚</p> <h2 id="cmd-å®¹å™¨å¯åŠ¨å‘½ä»¤"><a href="#cmd-å®¹å™¨å¯åŠ¨å‘½ä»¤" class="header-anchor">#</a> CMD å®¹å™¨å¯åŠ¨å‘½ä»¤</h2> <p><code>CMD</code> æŒ‡ä»¤çš„æ ¼å¼å’Œ <code>RUN</code> ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ä¸¤ç§æ ¼å¼ï¼š</p> <ul><li><code>shell</code> æ ¼å¼ï¼š<code>CMD &lt;å‘½ä»¤&gt;</code></li> <li><code>exec</code> æ ¼å¼ï¼š<code>CMD [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;...]</code></li> <li>å‚æ•°åˆ—è¡¨æ ¼å¼ï¼š<code>CMD [&quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;...]</code>ã€‚åœ¨æŒ‡å®šäº† <code>ENTRYPOINT</code> æŒ‡ä»¤åï¼Œç”¨ <code>CMD</code> æŒ‡å®šå…·ä½“çš„å‚æ•°ã€‚</li></ul> <p>ä¹‹å‰ä»‹ç»å®¹å™¨çš„æ—¶å€™æ›¾ç»è¯´è¿‡ï¼ŒDocker ä¸æ˜¯è™šæ‹Ÿæœºï¼Œå®¹å™¨å°±æ˜¯è¿›ç¨‹ã€‚æ—¢ç„¶æ˜¯è¿›ç¨‹ï¼Œé‚£ä¹ˆåœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šæ‰€è¿è¡Œçš„ç¨‹åºåŠå‚æ•°ã€‚<code>CMD</code> æŒ‡ä»¤å°±æ˜¯ç”¨äºæŒ‡å®šé»˜è®¤çš„å®¹å™¨ä¸»è¿›ç¨‹çš„å¯åŠ¨å‘½ä»¤çš„ã€‚</p> <p>åœ¨è¿è¡Œæ—¶å¯ä»¥æŒ‡å®šæ–°çš„å‘½ä»¤æ¥æ›¿ä»£é•œåƒè®¾ç½®ä¸­çš„è¿™ä¸ªé»˜è®¤å‘½ä»¤ï¼Œæ¯”å¦‚ï¼Œ<code>ubuntu</code> é•œåƒé»˜è®¤çš„ <code>CMD</code> æ˜¯ <code>/bin/bash</code>ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ <code>docker run -it ubuntu</code> çš„è¯ï¼Œä¼šç›´æ¥è¿›å…¥ <code>bash</code>ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶æŒ‡å®šè¿è¡Œåˆ«çš„å‘½ä»¤ï¼Œå¦‚ <code>docker run -it ubuntu cat /etc/os-release</code>ã€‚è¿™å°±æ˜¯ç”¨ <code>cat /etc/os-release</code> å‘½ä»¤æ›¿æ¢äº†é»˜è®¤çš„ <code>/bin/bash</code> å‘½ä»¤äº†ï¼Œè¾“å‡ºäº†ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯ã€‚</p> <p>åœ¨æŒ‡ä»¤æ ¼å¼ä¸Šï¼Œä¸€èˆ¬æ¨èä½¿ç”¨ <code>exec</code> æ ¼å¼ï¼Œè¿™ç±»æ ¼å¼åœ¨è§£ææ—¶ä¼šè¢«è§£æä¸º JSON æ•°ç»„ï¼Œå› æ­¤ä¸€å®šè¦ä½¿ç”¨åŒå¼•å· <code>&quot;</code>ï¼Œè€Œä¸è¦ä½¿ç”¨å•å¼•å·ã€‚</p> <p>å¦‚æœä½¿ç”¨ <code>shell</code> æ ¼å¼çš„è¯ï¼Œå®é™…çš„å‘½ä»¤ä¼šè¢«åŒ…è£…ä¸º <code>sh -c</code> çš„å‚æ•°çš„å½¢å¼è¿›è¡Œæ‰§è¡Œã€‚æ¯”å¦‚ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">CMD</span> echo <span class="token variable">$HOME</span></span>
</code></pre></div><p>åœ¨å®é™…æ‰§è¡Œä¸­ï¼Œä¼šå°†å…¶å˜æ›´ä¸ºï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">CMD</span> [ <span class="token string">&quot;sh&quot;</span>, <span class="token string">&quot;-c&quot;</span>, <span class="token string">&quot;echo $HOME&quot;</span> ]</span>
</code></pre></div><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡çš„åŸå› ï¼Œå› ä¸ºè¿™äº›ç¯å¢ƒå˜é‡ä¼šè¢« shell è¿›è¡Œè§£æå¤„ç†ã€‚</p> <p>æåˆ° <code>CMD</code> å°±ä¸å¾—ä¸æå®¹å™¨ä¸­åº”ç”¨åœ¨å‰å°æ‰§è¡Œå’Œåå°æ‰§è¡Œçš„é—®é¢˜ã€‚è¿™æ˜¯åˆå­¦è€…å¸¸å‡ºç°çš„ä¸€ä¸ªæ··æ·†ã€‚</p> <p>Docker ä¸æ˜¯è™šæ‹Ÿæœºï¼Œå®¹å™¨ä¸­çš„åº”ç”¨éƒ½åº”è¯¥ä»¥å‰å°æ‰§è¡Œï¼Œè€Œä¸æ˜¯åƒè™šæ‹Ÿæœºã€ç‰©ç†æœºé‡Œé¢é‚£æ ·ï¼Œç”¨ upstart/systemd å»å¯åŠ¨åå°æœåŠ¡ï¼Œå®¹å™¨å†…æ²¡æœ‰åå°æœåŠ¡çš„æ¦‚å¿µã€‚</p> <p>ä¸€äº›åˆå­¦è€…å°† <code>CMD</code> å†™ä¸ºï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">CMD</span> service nginx start</span>
</code></pre></div><p>ç„¶åå‘ç°å®¹å™¨æ‰§è¡Œåå°±ç«‹å³é€€å‡ºäº†ã€‚ç”šè‡³åœ¨å®¹å™¨å†…å»ä½¿ç”¨ <code>systemctl</code> å‘½ä»¤ç»“æœå´å‘ç°æ ¹æœ¬æ‰§è¡Œä¸äº†ã€‚è¿™å°±æ˜¯å› ä¸ºæ²¡æœ‰ææ˜ç™½å‰å°ã€åå°çš„æ¦‚å¿µï¼Œæ²¡æœ‰åŒºåˆ†å®¹å™¨å’Œè™šæ‹Ÿæœºçš„å·®å¼‚ï¼Œä¾æ—§åœ¨ä»¥ä¼ ç»Ÿè™šæ‹Ÿæœºçš„è§’åº¦å»ç†è§£å®¹å™¨ã€‚</p> <p>å¯¹äºå®¹å™¨è€Œè¨€ï¼Œå…¶å¯åŠ¨ç¨‹åºå°±æ˜¯å®¹å™¨åº”ç”¨è¿›ç¨‹ï¼Œå®¹å™¨å°±æ˜¯ä¸ºäº†ä¸»è¿›ç¨‹è€Œå­˜åœ¨çš„ï¼Œä¸»è¿›ç¨‹é€€å‡ºï¼Œå®¹å™¨å°±å¤±å»äº†å­˜åœ¨çš„æ„ä¹‰ï¼Œä»è€Œé€€å‡ºï¼Œå…¶å®ƒè¾…åŠ©è¿›ç¨‹ä¸æ˜¯å®ƒéœ€è¦å…³å¿ƒçš„ä¸œè¥¿ã€‚</p> <p>è€Œä½¿ç”¨ <code>service nginx start</code> å‘½ä»¤ï¼Œåˆ™æ˜¯å¸Œæœ› upstart æ¥ä»¥åå°å®ˆæŠ¤è¿›ç¨‹å½¢å¼å¯åŠ¨ <code>nginx</code> æœåŠ¡ã€‚è€Œåˆšæ‰è¯´äº† <code>CMD service nginx start</code> ä¼šè¢«ç†è§£ä¸º <code>CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;service nginx start&quot;]</code>ï¼Œå› æ­¤ä¸»è¿›ç¨‹å®é™…ä¸Šæ˜¯ <code>sh</code>ã€‚é‚£ä¹ˆå½“ <code>service nginx start</code> å‘½ä»¤ç»“æŸåï¼Œ<code>sh</code> ä¹Ÿå°±ç»“æŸäº†ï¼Œ<code>sh</code> ä½œä¸ºä¸»è¿›ç¨‹é€€å‡ºäº†ï¼Œè‡ªç„¶å°±ä¼šä»¤å®¹å™¨é€€å‡ºã€‚</p> <p>æ­£ç¡®çš„åšæ³•æ˜¯ç›´æ¥æ‰§è¡Œ <code>nginx</code> å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶ä¸”è¦æ±‚ä»¥å‰å°å½¢å¼è¿è¡Œã€‚æ¯”å¦‚ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;nginx&quot;</span>, <span class="token string">&quot;-g&quot;</span>, <span class="token string">&quot;daemon off;&quot;</span>]</span>
</code></pre></div><h2 id="entrypoint-å…¥å£ç‚¹"><a href="#entrypoint-å…¥å£ç‚¹" class="header-anchor">#</a> ENTRYPOINT å…¥å£ç‚¹</h2> <p><code>ENTRYPOINT</code> çš„æ ¼å¼å’Œ <code>RUN</code> æŒ‡ä»¤æ ¼å¼ä¸€æ ·ï¼Œåˆ†ä¸º <code>exec</code> æ ¼å¼å’Œ <code>shell</code> æ ¼å¼ã€‚</p> <p><code>ENTRYPOINT</code> çš„ç›®çš„å’Œ <code>CMD</code> ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå‚æ•°ã€‚<code>ENTRYPOINT</code> åœ¨è¿è¡Œæ—¶ä¹Ÿå¯ä»¥æ›¿ä»£ï¼Œä¸è¿‡æ¯” <code>CMD</code> è¦ç•¥æ˜¾ç¹çï¼Œéœ€è¦é€šè¿‡ <code>docker run</code> çš„å‚æ•° <code>--entrypoint</code> æ¥æŒ‡å®šã€‚</p> <p>å½“æŒ‡å®šäº† <code>ENTRYPOINT</code> åï¼Œ<code>CMD</code> çš„å«ä¹‰å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œä¸å†æ˜¯ç›´æ¥çš„è¿è¡Œå…¶å‘½ä»¤ï¼Œè€Œæ˜¯å°† <code>CMD</code> çš„å†…å®¹ä½œä¸ºå‚æ•°ä¼ ç»™ <code>ENTRYPOINT</code> æŒ‡ä»¤ï¼Œæ¢å¥è¯è¯´å®é™…æ‰§è¡Œæ—¶ï¼Œå°†å˜ä¸ºï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token operator">&lt;</span>ENTRYPOINT<span class="token operator">&gt;</span> <span class="token string">&quot;&lt;CMD&gt;&quot;</span>
</code></pre></div><p>é‚£ä¹ˆæœ‰äº† <code>CMD</code> åï¼Œä¸ºä»€ä¹ˆè¿˜è¦æœ‰ <code>ENTRYPOINT</code> å‘¢ï¼Ÿè¿™ç§ <code>&quot;&quot;</code> æœ‰ä»€ä¹ˆå¥½å¤„ä¹ˆï¼Ÿè®©æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªåœºæ™¯ã€‚</p> <h3 id="åœºæ™¯ä¸€-è®©é•œåƒå˜æˆåƒå‘½ä»¤ä¸€æ ·ä½¿ç”¨"><a href="#åœºæ™¯ä¸€-è®©é•œåƒå˜æˆåƒå‘½ä»¤ä¸€æ ·ä½¿ç”¨" class="header-anchor">#</a> åœºæ™¯ä¸€ï¼šè®©é•œåƒå˜æˆåƒå‘½ä»¤ä¸€æ ·ä½¿ç”¨</h3> <p>å‡è®¾æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¾—çŸ¥è‡ªå·±å½“å‰å…¬ç½‘ IP çš„é•œåƒï¼Œé‚£ä¹ˆå¯ä»¥å…ˆç”¨ <code>CMD</code> æ¥å®ç°ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> ubuntu:16.04</span>
<span class="token instruction"><span class="token keyword">RUN</span> apt-get update <span class="token operator">\</span>
    &amp;&amp; apt-get install -y curl <span class="token operator">\</span>
    &amp;&amp; rm -rf /var/lib/apt/lists/*</span>
<span class="token instruction"><span class="token keyword">CMD</span> [ <span class="token string">&quot;curl&quot;</span>, <span class="token string">&quot;-s&quot;</span>, <span class="token string">&quot;http://ip.cn&quot;</span> ]</span>
</code></pre></div><p>å‡å¦‚æˆ‘ä»¬ä½¿ç”¨ <code>docker build -t myip .</code> æ¥æ„å»ºé•œåƒçš„è¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æŸ¥è¯¢å½“å‰å…¬ç½‘ IPï¼Œåªéœ€è¦æ‰§è¡Œï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run myip
å½“å‰ IPï¼š61.148.226.66 æ¥è‡ªï¼šåŒ—äº¬å¸‚ è”é€š
</code></pre></div><p>å—¯ï¼Œè¿™ä¹ˆçœ‹èµ·æ¥å¥½åƒå¯ä»¥ç›´æ¥æŠŠé•œåƒå½“åšå‘½ä»¤ä½¿ç”¨äº†ï¼Œä¸è¿‡å‘½ä»¤æ€»æœ‰å‚æ•°ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›åŠ å‚æ•°å‘¢ï¼Ÿæ¯”å¦‚ä»ä¸Šé¢çš„ <code>CMD</code> ä¸­å¯ä»¥çœ‹åˆ°å®è´¨çš„å‘½ä»¤æ˜¯ <code>curl</code>ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬å¸Œæœ›æ˜¾ç¤º HTTP å¤´ä¿¡æ¯ï¼Œå°±éœ€è¦åŠ ä¸Š <code>-i</code> å‚æ•°ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥åŠ  <code>-i</code> å‚æ•°ç»™ <code>docker run myip</code> ä¹ˆï¼Ÿ</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run myip -i
docker: Error response from daemon: invalid header field value <span class="token string">&quot;oci runtime error: container_linux.go:247: starting container process caused <span class="token entity" title="\&quot;">\&quot;</span>exec: <span class="token entity" title="\\">\\</span><span class="token entity" title="\&quot;">\&quot;</span>-i<span class="token entity" title="\\">\\</span><span class="token entity" title="\&quot;">\&quot;</span>: executable file not found in <span class="token environment constant">$PATH</span><span class="token entity" title="\&quot;">\&quot;</span><span class="token entity" title="\n">\n</span>&quot;</span><span class="token builtin class-name">.</span>
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯æ‰§è¡Œæ–‡ä»¶æ‰¾ä¸åˆ°çš„æŠ¥é”™ï¼Œ<code>executable file not found</code>ã€‚ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ï¼Œè·Ÿåœ¨é•œåƒååé¢çš„æ˜¯ <code>command</code>ï¼Œè¿è¡Œæ—¶ä¼šæ›¿æ¢ <code>CMD</code> çš„é»˜è®¤å€¼ã€‚å› æ­¤è¿™é‡Œçš„ <code>-i</code> æ›¿æ¢äº†åŸæ¥çš„ <code>CMD</code>ï¼Œè€Œä¸æ˜¯æ·»åŠ åœ¨åŸæ¥çš„ <code>curl -s http://ip.cn</code> åé¢ã€‚è€Œ <code>-i</code> æ ¹æœ¬ä¸æ˜¯å‘½ä»¤ï¼Œæ‰€ä»¥è‡ªç„¶æ‰¾ä¸åˆ°ã€‚</p> <p>é‚£ä¹ˆå¦‚æœæˆ‘ä»¬å¸Œæœ›åŠ å…¥ <code>-i</code> è¿™å‚æ•°ï¼Œæˆ‘ä»¬å°±å¿…é¡»é‡æ–°å®Œæ•´çš„è¾“å…¥è¿™ä¸ªå‘½ä»¤ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run myip <span class="token function">curl</span> -s http://ip.cn -i
</code></pre></div><p>è¿™æ˜¾ç„¶ä¸æ˜¯å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œè€Œä½¿ç”¨ <code>ENTRYPOINT</code> å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç°åœ¨æˆ‘ä»¬é‡æ–°ç”¨ <code>ENTRYPOINT</code> æ¥å®ç°è¿™ä¸ªé•œåƒï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> ubuntu:16.04</span>
<span class="token instruction"><span class="token keyword">RUN</span> apt-get update <span class="token operator">\</span>
    &amp;&amp; apt-get install -y curl <span class="token operator">\</span>
    &amp;&amp; rm -rf /var/lib/apt/lists/*</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [ <span class="token string">&quot;curl&quot;</span>, <span class="token string">&quot;-s&quot;</span>, <span class="token string">&quot;http://ip.cn&quot;</span> ]</span>
</code></pre></div><p>è¿™æ¬¡æˆ‘ä»¬å†æ¥å°è¯•ç›´æ¥ä½¿ç”¨ <code>docker run myip -i</code>ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run myip
å½“å‰ IPï¼š61.148.226.66 æ¥è‡ªï¼šåŒ—äº¬å¸‚ è”é€š

<span class="token function">docker</span> run myip -i
HTTP/1.1 <span class="token number">200</span> OK
Server: nginx/1.8.0
Date: Tue, <span class="token number">22</span> Nov <span class="token number">2016</span> 05:12:40 GMT
Content-Type: text/html<span class="token punctuation">;</span> <span class="token assign-left variable">charset</span><span class="token operator">=</span>UTF-8
Vary: Accept-Encoding
X-Powered-By: PHP/5.6.24-1~dotdeb+7.1
X-Cache: MISS from cache-2
X-Cache-Lookup: MISS from cache-2:80
X-Cache: MISS from proxy-2_6
Transfer-Encoding: chunked
Via: <span class="token number">1.1</span> cache-2:80, <span class="token number">1.1</span> proxy-2_6:8006
Connection: keep-alive

å½“å‰ IPï¼š61.148.226.66 æ¥è‡ªï¼šåŒ—äº¬å¸‚ è”é€š
</code></pre></div><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ¬¡æˆåŠŸäº†ã€‚è¿™æ˜¯å› ä¸ºå½“å­˜åœ¨ <code>ENTRYPOINT</code> åï¼Œ<code>CMD</code> çš„å†…å®¹å°†ä¼šä½œä¸ºå‚æ•°ä¼ ç»™ <code>ENTRYPOINT</code>ï¼Œè€Œè¿™é‡Œ <code>-i</code> å°±æ˜¯æ–°çš„ <code>CMD</code>ï¼Œå› æ­¤ä¼šä½œä¸ºå‚æ•°ä¼ ç»™ <code>curl</code>ï¼Œä»è€Œè¾¾åˆ°äº†æˆ‘ä»¬é¢„æœŸçš„æ•ˆæœã€‚</p> <h3 id="åœºæ™¯äºŒ-åº”ç”¨è¿è¡Œå‰çš„å‡†å¤‡å·¥ä½œ"><a href="#åœºæ™¯äºŒ-åº”ç”¨è¿è¡Œå‰çš„å‡†å¤‡å·¥ä½œ" class="header-anchor">#</a> åœºæ™¯äºŒï¼šåº”ç”¨è¿è¡Œå‰çš„å‡†å¤‡å·¥ä½œ</h3> <p>å¯åŠ¨å®¹å™¨å°±æ˜¯å¯åŠ¨ä¸»è¿›ç¨‹ï¼Œä½†æœ‰äº›æ—¶å€™ï¼Œå¯åŠ¨ä¸»è¿›ç¨‹å‰ï¼Œéœ€è¦ä¸€äº›å‡†å¤‡å·¥ä½œã€‚</p> <p>æ¯”å¦‚ <code>mysql</code> ç±»çš„æ•°æ®åº“ï¼Œå¯èƒ½éœ€è¦ä¸€äº›æ•°æ®åº“é…ç½®ã€åˆå§‹åŒ–çš„å·¥ä½œï¼Œè¿™äº›å·¥ä½œè¦åœ¨æœ€ç»ˆçš„ mysql æœåŠ¡å™¨è¿è¡Œä¹‹å‰è§£å†³ã€‚</p> <p>æ­¤å¤–ï¼Œå¯èƒ½å¸Œæœ›é¿å…ä½¿ç”¨ <code>root</code> ç”¨æˆ·å»å¯åŠ¨æœåŠ¡ï¼Œä»è€Œæé«˜å®‰å…¨æ€§ï¼Œè€Œåœ¨å¯åŠ¨æœåŠ¡å‰è¿˜éœ€è¦ä»¥ <code>root</code> èº«ä»½æ‰§è¡Œä¸€äº›å¿…è¦çš„å‡†å¤‡å·¥ä½œï¼Œæœ€ååˆ‡æ¢åˆ°æœåŠ¡ç”¨æˆ·èº«ä»½å¯åŠ¨æœåŠ¡ã€‚æˆ–è€…é™¤äº†æœåŠ¡å¤–ï¼Œå…¶å®ƒå‘½ä»¤ä¾æ—§å¯ä»¥ä½¿ç”¨ <code>root</code> èº«ä»½æ‰§è¡Œï¼Œæ–¹ä¾¿è°ƒè¯•ç­‰ã€‚</p> <p>è¿™äº›å‡†å¤‡å·¥ä½œæ˜¯å’Œå®¹å™¨ <code>CMD</code> æ— å…³çš„ï¼Œæ— è®º <code>CMD</code> ä¸ºä»€ä¹ˆï¼Œéƒ½éœ€è¦äº‹å…ˆè¿›è¡Œä¸€ä¸ªé¢„å¤„ç†çš„å·¥ä½œã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å†™ä¸€ä¸ªè„šæœ¬ï¼Œç„¶åæ”¾å…¥ <code>ENTRYPOINT</code> ä¸­å»æ‰§è¡Œï¼Œè€Œè¿™ä¸ªè„šæœ¬ä¼šå°†æ¥åˆ°çš„å‚æ•°ï¼ˆä¹Ÿå°±æ˜¯ ``ï¼‰ä½œä¸ºå‘½ä»¤ï¼Œåœ¨è„šæœ¬æœ€åæ‰§è¡Œã€‚æ¯”å¦‚å®˜æ–¹é•œåƒ <code>redis</code> ä¸­å°±æ˜¯è¿™ä¹ˆåšçš„ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> alpine:3.4</span>
...
<span class="token instruction"><span class="token keyword">RUN</span> addgroup -S redis &amp;&amp; adduser -S -G redis redis</span>
...
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;docker-entrypoint.sh&quot;</span>]</span>

<span class="token instruction"><span class="token keyword">EXPOSE</span> 6379</span>
<span class="token instruction"><span class="token keyword">CMD</span> [ <span class="token string">&quot;redis-server&quot;</span> ]</span>
</code></pre></div><p>å¯ä»¥çœ‹åˆ°å…¶ä¸­ä¸ºäº† redis æœåŠ¡åˆ›å»ºäº† redis ç”¨æˆ·ï¼Œå¹¶åœ¨æœ€åæŒ‡å®šäº† <code>ENTRYPOINT</code> ä¸º <code>docker-entrypoint.sh</code> è„šæœ¬ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token punctuation">..</span>.
<span class="token comment"># allow the container to be started with `--user`</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token operator">=</span> <span class="token string">'redis-server'</span> -a <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> -u<span class="token variable">)</span></span>&quot;</span> <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token function">chown</span> -R redis <span class="token builtin class-name">.</span>
	<span class="token builtin class-name">exec</span> su-exec redis <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">exec</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
</code></pre></div><p>è¯¥è„šæœ¬çš„å†…å®¹å°±æ˜¯æ ¹æ® <code>CMD</code> çš„å†…å®¹æ¥åˆ¤æ–­ï¼Œå¦‚æœæ˜¯ <code>redis-server</code> çš„è¯ï¼Œåˆ™åˆ‡æ¢åˆ° <code>redis</code> ç”¨æˆ·èº«ä»½å¯åŠ¨æœåŠ¡å™¨ï¼Œå¦åˆ™ä¾æ—§ä½¿ç”¨ <code>root</code> èº«ä»½æ‰§è¡Œã€‚æ¯”å¦‚ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run -it redis <span class="token function">id</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token assign-left variable">groups</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
</code></pre></div><h2 id="env-è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#env-è®¾ç½®ç¯å¢ƒå˜é‡" class="header-anchor">#</a> ENV è®¾ç½®ç¯å¢ƒå˜é‡</h2> <p>æ ¼å¼æœ‰ä¸¤ç§ï¼š</p> <ul><li><code>ENV</code></li> <li><code>ENV = =...</code></li></ul> <p>è¿™ä¸ªæŒ‡ä»¤å¾ˆç®€å•ï¼Œå°±æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡è€Œå·²ï¼Œæ— è®ºæ˜¯åé¢çš„å…¶å®ƒæŒ‡ä»¤ï¼Œå¦‚ <code>RUN</code>ï¼Œè¿˜æ˜¯è¿è¡Œæ—¶çš„åº”ç”¨ï¼Œéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™é‡Œå®šä¹‰çš„ç¯å¢ƒå˜é‡ã€‚</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">ENV</span> VERSION=1.0 DEBUG=on <span class="token operator">\</span>
    NAME=<span class="token string">&quot;Happy Feet&quot;</span></span>
</code></pre></div><p>è¿™ä¸ªä¾‹å­ä¸­æ¼”ç¤ºäº†å¦‚ä½•æ¢è¡Œï¼Œä»¥åŠå¯¹å«æœ‰ç©ºæ ¼çš„å€¼ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„åŠæ³•ï¼Œè¿™å’Œ Shell ä¸‹çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ã€‚</p> <p>å®šä¹‰äº†ç¯å¢ƒå˜é‡ï¼Œé‚£ä¹ˆåœ¨åç»­çš„æŒ‡ä»¤ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚æ¯”å¦‚åœ¨å®˜æ–¹ <code>node</code> é•œåƒ <code>Dockerfile</code> ä¸­ï¼Œå°±æœ‰ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">ENV</span> NODE_VERSION 7.2.0</span>

<span class="token instruction"><span class="token keyword">RUN</span> curl -SLO <span class="token string">&quot;https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-x64.tar.xz&quot;</span> <span class="token operator">\</span>
  &amp;&amp; curl -SLO <span class="token string">&quot;https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc&quot;</span> <span class="token operator">\</span>
  &amp;&amp; gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc <span class="token operator">\</span>
  &amp;&amp; grep <span class="token string">&quot; node-v$NODE_VERSION-linux-x64.tar.xz\$&quot;</span> SHASUMS256.txt | sha256sum -c - <span class="token operator">\</span>
  &amp;&amp; tar -xJf <span class="token string">&quot;node-v$NODE_VERSION-linux-x64.tar.xz&quot;</span> -C /usr/local --strip-components=1 <span class="token operator">\</span>
  &amp;&amp; rm <span class="token string">&quot;node-v$NODE_VERSION-linux-x64.tar.xz&quot;</span> SHASUMS256.txt.asc SHASUMS256.txt <span class="token operator">\</span>
  &amp;&amp; ln -s /usr/local/bin/node /usr/local/bin/nodejs</span>
</code></pre></div><p>åœ¨è¿™é‡Œå…ˆå®šä¹‰äº†ç¯å¢ƒå˜é‡ <code>NODE_VERSION</code>ï¼Œå…¶åçš„ <code>RUN</code> è¿™å±‚é‡Œï¼Œå¤šæ¬¡ä½¿ç”¨ <code>$NODE_VERSION</code> æ¥è¿›è¡Œæ“ä½œå®šåˆ¶ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå°†æ¥å‡çº§é•œåƒæ„å»ºç‰ˆæœ¬çš„æ—¶å€™ï¼Œåªéœ€è¦æ›´æ–° <code>7.2.0</code> å³å¯ï¼Œ<code>Dockerfile</code> æ„å»ºç»´æŠ¤å˜å¾—æ›´è½»æ¾äº†ã€‚</p> <p>ä¸‹åˆ—æŒ‡ä»¤å¯ä»¥æ”¯æŒç¯å¢ƒå˜é‡å±•å¼€ï¼š <code>ADD</code>ã€<code>COPY</code>ã€<code>ENV</code>ã€<code>EXPOSE</code>ã€<code>LABEL</code>ã€<code>USER</code>ã€<code>WORKDIR</code>ã€<code>VOLUME</code>ã€<code>STOPSIGNAL</code>ã€<code>ONBUILD</code>ã€‚</p> <p>å¯ä»¥ä»è¿™ä¸ªæŒ‡ä»¤åˆ—è¡¨é‡Œæ„Ÿè§‰åˆ°ï¼Œç¯å¢ƒå˜é‡å¯ä»¥ä½¿ç”¨çš„åœ°æ–¹å¾ˆå¤šï¼Œå¾ˆå¼ºå¤§ã€‚é€šè¿‡ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥è®©ä¸€ä»½ <code>Dockerfile</code> åˆ¶ä½œæ›´å¤šçš„é•œåƒï¼Œåªéœ€ä½¿ç”¨ä¸åŒçš„ç¯å¢ƒå˜é‡å³å¯ã€‚</p> <h2 id="arg-æ„å»ºå‚æ•°"><a href="#arg-æ„å»ºå‚æ•°" class="header-anchor">#</a> ARG æ„å»ºå‚æ•°</h2> <p>æ ¼å¼ï¼š<code>ARG &lt;å‚æ•°å&gt;[=&lt;é»˜è®¤å€¼&gt;]</code></p> <p>æ„å»ºå‚æ•°å’Œ <code>ENV</code> çš„æ•ˆæœä¸€æ ·ï¼Œéƒ½æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ã€‚æ‰€ä¸åŒçš„æ˜¯ï¼Œ<code>ARG</code> æ‰€è®¾ç½®çš„æ„å»ºç¯å¢ƒçš„ç¯å¢ƒå˜é‡ï¼Œåœ¨å°†æ¥å®¹å™¨è¿è¡Œæ—¶æ˜¯ä¸ä¼šå­˜åœ¨è¿™äº›ç¯å¢ƒå˜é‡çš„ã€‚ä½†æ˜¯ä¸è¦å› æ­¤å°±ä½¿ç”¨ <code>ARG</code> ä¿å­˜å¯†ç ä¹‹ç±»çš„ä¿¡æ¯ï¼Œå› ä¸º <code>docker history</code> è¿˜æ˜¯å¯ä»¥çœ‹åˆ°æ‰€æœ‰å€¼çš„ã€‚</p> <p><code>Dockerfile</code> ä¸­çš„ <code>ARG</code> æŒ‡ä»¤æ˜¯å®šä¹‰å‚æ•°åç§°ï¼Œä»¥åŠå®šä¹‰å…¶é»˜è®¤å€¼ã€‚è¯¥é»˜è®¤å€¼å¯ä»¥åœ¨æ„å»ºå‘½ä»¤ <code>docker build</code> ä¸­ç”¨ <code>--build-arg &lt;å‚æ•°å&gt;=&lt;å€¼&gt;</code> æ¥è¦†ç›–ã€‚</p> <p>åœ¨ 1.13 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¦æ±‚ <code>--build-arg</code> ä¸­çš„å‚æ•°åï¼Œå¿…é¡»åœ¨ <code>Dockerfile</code> ä¸­ç”¨ <code>ARG</code> å®šä¹‰è¿‡äº†ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯ <code>--build-arg</code> æŒ‡å®šçš„å‚æ•°ï¼Œå¿…é¡»åœ¨ <code>Dockerfile</code> ä¸­ä½¿ç”¨äº†ã€‚å¦‚æœå¯¹åº”å‚æ•°æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œåˆ™ä¼šæŠ¥é”™é€€å‡ºæ„å»ºã€‚ä» 1.13 å¼€å§‹ï¼Œè¿™ç§ä¸¥æ ¼çš„é™åˆ¶è¢«æ”¾å¼€ï¼Œä¸å†æŠ¥é”™é€€å‡ºï¼Œè€Œæ˜¯æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯ï¼Œå¹¶ç»§ç»­æ„å»ºã€‚è¿™å¯¹äºä½¿ç”¨ CI ç³»ç»Ÿï¼Œç”¨åŒæ ·çš„æ„å»ºæµç¨‹æ„å»ºä¸åŒçš„ <code>Dockerfile</code> çš„æ—¶å€™æ¯”è¾ƒæœ‰å¸®åŠ©ï¼Œé¿å…æ„å»ºå‘½ä»¤å¿…é¡»æ ¹æ®æ¯ä¸ª Dockerfile çš„å†…å®¹ä¿®æ”¹ã€‚</p> <h2 id="volume-å®šä¹‰åŒ¿åå·"><a href="#volume-å®šä¹‰åŒ¿åå·" class="header-anchor">#</a> VOLUME å®šä¹‰åŒ¿åå·</h2> <p>æ ¼å¼ä¸ºï¼š</p> <ul><li><code>VOLUME [&quot;&lt;è·¯å¾„1&gt;&quot;, &quot;&lt;è·¯å¾„2&gt;&quot;...]</code></li> <li><code>VOLUME &lt;è·¯å¾„&gt;</code></li></ul> <p>ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ï¼Œå®¹å™¨è¿è¡Œæ—¶åº”è¯¥å°½é‡ä¿æŒå®¹å™¨å­˜å‚¨å±‚ä¸å‘ç”Ÿå†™æ“ä½œï¼Œå¯¹äºæ•°æ®åº“ç±»éœ€è¦ä¿å­˜åŠ¨æ€æ•°æ®çš„åº”ç”¨ï¼Œå…¶æ•°æ®åº“æ–‡ä»¶åº”è¯¥ä¿å­˜äºå·(volume)ä¸­ï¼Œåé¢çš„ç« èŠ‚æˆ‘ä»¬ä¼šè¿›ä¸€æ­¥ä»‹ç» Docker å·çš„æ¦‚å¿µã€‚ä¸ºäº†é˜²æ­¢è¿è¡Œæ—¶ç”¨æˆ·å¿˜è®°å°†åŠ¨æ€æ–‡ä»¶æ‰€ä¿å­˜ç›®å½•æŒ‚è½½ä¸ºå·ï¼Œåœ¨ <code>Dockerfile</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥äº‹å…ˆæŒ‡å®šæŸäº›ç›®å½•æŒ‚è½½ä¸ºåŒ¿åå·ï¼Œè¿™æ ·åœ¨è¿è¡Œæ—¶å¦‚æœç”¨æˆ·ä¸æŒ‡å®šæŒ‚è½½ï¼Œå…¶åº”ç”¨ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä¸ä¼šå‘å®¹å™¨å­˜å‚¨å±‚å†™å…¥å¤§é‡æ•°æ®ã€‚</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">VOLUME</span> /data</span>
</code></pre></div><p>è¿™é‡Œçš„ <code>/data</code> ç›®å½•å°±ä¼šåœ¨è¿è¡Œæ—¶è‡ªåŠ¨æŒ‚è½½ä¸ºåŒ¿åå·ï¼Œä»»ä½•å‘ <code>/data</code> ä¸­å†™å…¥çš„ä¿¡æ¯éƒ½ä¸ä¼šè®°å½•è¿›å®¹å™¨å­˜å‚¨å±‚ï¼Œä»è€Œä¿è¯äº†å®¹å™¨å­˜å‚¨å±‚çš„æ— çŠ¶æ€åŒ–ã€‚å½“ç„¶ï¼Œè¿è¡Œæ—¶å¯ä»¥è¦†ç›–è¿™ä¸ªæŒ‚è½½è®¾ç½®ã€‚æ¯”å¦‚ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run -d -v mydata:/data xxxx
</code></pre></div><p>åœ¨è¿™è¡Œå‘½ä»¤ä¸­ï¼Œå°±ä½¿ç”¨äº† <code>mydata</code> è¿™ä¸ªå‘½åå·æŒ‚è½½åˆ°äº† <code>/data</code> è¿™ä¸ªä½ç½®ï¼Œæ›¿ä»£äº† <code>Dockerfile</code> ä¸­å®šä¹‰çš„åŒ¿åå·çš„æŒ‚è½½é…ç½®ã€‚</p> <h2 id="expose-æš´éœ²ç«¯å£"><a href="#expose-æš´éœ²ç«¯å£" class="header-anchor">#</a> EXPOSE æš´éœ²ç«¯å£</h2> <p>æ ¼å¼ä¸º <code>EXPOSE &lt;ç«¯å£1&gt; [&lt;ç«¯å£2&gt;...]</code>ã€‚</p> <p><code>EXPOSE</code> æŒ‡ä»¤æ˜¯å£°æ˜è¿è¡Œæ—¶å®¹å™¨æä¾›æœåŠ¡ç«¯å£ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œåœ¨è¿è¡Œæ—¶å¹¶ä¸ä¼šå› ä¸ºè¿™ä¸ªå£°æ˜åº”ç”¨å°±ä¼šå¼€å¯è¿™ä¸ªç«¯å£çš„æœåŠ¡ã€‚åœ¨ Dockerfile ä¸­å†™å…¥è¿™æ ·çš„å£°æ˜æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œä¸€ä¸ªæ˜¯å¸®åŠ©é•œåƒä½¿ç”¨è€…ç†è§£è¿™ä¸ªé•œåƒæœåŠ¡çš„å®ˆæŠ¤ç«¯å£ï¼Œä»¥æ–¹ä¾¿é…ç½®æ˜ å°„ï¼›å¦ä¸€ä¸ªç”¨å¤„åˆ™æ˜¯åœ¨è¿è¡Œæ—¶ä½¿ç”¨éšæœºç«¯å£æ˜ å°„æ—¶ï¼Œä¹Ÿå°±æ˜¯ <code>docker run -P</code> æ—¶ï¼Œä¼šè‡ªåŠ¨éšæœºæ˜ å°„ <code>EXPOSE</code> çš„ç«¯å£ã€‚</p> <p>æ­¤å¤–ï¼Œåœ¨æ—©æœŸ Docker ç‰ˆæœ¬ä¸­è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ç”¨å¤„ã€‚ä»¥å‰æ‰€æœ‰å®¹å™¨éƒ½è¿è¡Œäºé»˜è®¤æ¡¥æ¥ç½‘ç»œä¸­ï¼Œå› æ­¤æ‰€æœ‰å®¹å™¨äº’ç›¸ä¹‹é—´éƒ½å¯ä»¥ç›´æ¥è®¿é—®ï¼Œè¿™æ ·å­˜åœ¨ä¸€å®šçš„å®‰å…¨æ€§é—®é¢˜ã€‚äºæ˜¯æœ‰äº†ä¸€ä¸ª Docker å¼•æ“å‚æ•° <code>--icc=false</code>ï¼Œå½“æŒ‡å®šè¯¥å‚æ•°åï¼Œå®¹å™¨é—´å°†é»˜è®¤æ— æ³•äº’è®¿ï¼Œé™¤éäº’ç›¸é—´ä½¿ç”¨äº† <code>--links</code> å‚æ•°çš„å®¹å™¨æ‰å¯ä»¥äº’é€šï¼Œå¹¶ä¸”åªæœ‰é•œåƒä¸­ <code>EXPOSE</code> æ‰€å£°æ˜çš„ç«¯å£æ‰å¯ä»¥è¢«è®¿é—®ã€‚è¿™ä¸ª <code>--icc=false</code> çš„ç”¨æ³•ï¼Œåœ¨å¼•å…¥äº† <code>docker network</code> åå·²ç»åŸºæœ¬ä¸ç”¨äº†ï¼Œé€šè¿‡è‡ªå®šä¹‰ç½‘ç»œå¯ä»¥å¾ˆè½»æ¾çš„å®ç°å®¹å™¨é—´çš„äº’è”ä¸éš”ç¦»ã€‚</p> <p>è¦å°† <code>EXPOSE</code> å’Œåœ¨è¿è¡Œæ—¶ä½¿ç”¨ <code>-p &lt;å®¿ä¸»ç«¯å£&gt;:&lt;å®¹å™¨ç«¯å£&gt;</code> åŒºåˆ†å¼€æ¥ã€‚<code>-p</code>ï¼Œæ˜¯æ˜ å°„å®¿ä¸»ç«¯å£å’Œå®¹å™¨ç«¯å£ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å°†å®¹å™¨çš„å¯¹åº”ç«¯å£æœåŠ¡å…¬å¼€ç»™å¤–ç•Œè®¿é—®ï¼Œè€Œ <code>EXPOSE</code> ä»…ä»…æ˜¯å£°æ˜å®¹å™¨æ‰“ç®—ä½¿ç”¨ä»€ä¹ˆç«¯å£è€Œå·²ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨åœ¨å®¿ä¸»è¿›è¡Œç«¯å£æ˜ å°„ã€‚</p> <h2 id="workdir-æŒ‡å®šå·¥ä½œç›®å½•"><a href="#workdir-æŒ‡å®šå·¥ä½œç›®å½•" class="header-anchor">#</a> WORKDIR æŒ‡å®šå·¥ä½œç›®å½•</h2> <p>æ ¼å¼ä¸º <code>WORKDIR &lt;å·¥ä½œç›®å½•è·¯å¾„&gt;</code>ã€‚</p> <p>ä½¿ç”¨ <code>WORKDIR</code> æŒ‡ä»¤å¯ä»¥æ¥æŒ‡å®šå·¥ä½œç›®å½•ï¼ˆæˆ–è€…ç§°ä¸ºå½“å‰ç›®å½•ï¼‰ï¼Œä»¥åå„å±‚çš„å½“å‰ç›®å½•å°±è¢«æ”¹ä¸ºæŒ‡å®šçš„ç›®å½•ï¼Œå¦‚è¯¥ç›®å½•ä¸å­˜åœ¨ï¼Œ<code>WORKDIR</code> ä¼šå¸®ä½ å»ºç«‹ç›®å½•ã€‚</p> <p>ä¹‹å‰æåˆ°ä¸€äº›åˆå­¦è€…å¸¸çŠ¯çš„é”™è¯¯æ˜¯æŠŠ <code>Dockerfile</code> ç­‰åŒäº Shell è„šæœ¬æ¥ä¹¦å†™ï¼Œè¿™ç§é”™è¯¯çš„ç†è§£è¿˜å¯èƒ½ä¼šå¯¼è‡´å‡ºç°ä¸‹é¢è¿™æ ·çš„é”™è¯¯ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">RUN</span> cd /app</span>
<span class="token instruction"><span class="token keyword">RUN</span> echo <span class="token string">&quot;hello&quot;</span> &gt; world.txt</span>
</code></pre></div><p>å¦‚æœå°†è¿™ä¸ª <code>Dockerfile</code> è¿›è¡Œæ„å»ºé•œåƒè¿è¡Œåï¼Œä¼šå‘ç°æ‰¾ä¸åˆ° <code>/app/world.txt</code> æ–‡ä»¶ï¼Œæˆ–è€…å…¶å†…å®¹ä¸æ˜¯ <code>hello</code>ã€‚åŸå› å…¶å®å¾ˆç®€å•ï¼Œåœ¨ Shell ä¸­ï¼Œè¿ç»­ä¸¤è¡Œæ˜¯åŒä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œç¯å¢ƒï¼Œå› æ­¤å‰ä¸€ä¸ªå‘½ä»¤ä¿®æ”¹çš„å†…å­˜çŠ¶æ€ï¼Œä¼šç›´æ¥å½±å“åä¸€ä¸ªå‘½ä»¤ï¼›è€Œåœ¨ <code>Dockerfile</code> ä¸­ï¼Œè¿™ä¸¤è¡Œ <code>RUN</code> å‘½ä»¤çš„æ‰§è¡Œç¯å¢ƒæ ¹æœ¬ä¸åŒï¼Œæ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„å®¹å™¨ã€‚è¿™å°±æ˜¯å¯¹ <code>Dockerfile</code> æ„å»ºåˆ†å±‚å­˜å‚¨çš„æ¦‚å¿µä¸äº†è§£æ‰€å¯¼è‡´çš„é”™è¯¯ã€‚</p> <p>ä¹‹å‰è¯´è¿‡æ¯ä¸€ä¸ª <code>RUN</code> éƒ½æ˜¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨ã€æ‰§è¡Œå‘½ä»¤ã€ç„¶åæäº¤å­˜å‚¨å±‚æ–‡ä»¶å˜æ›´ã€‚ç¬¬ä¸€å±‚ <code>RUN cd /app</code> çš„æ‰§è¡Œä»…ä»…æ˜¯å½“å‰è¿›ç¨‹çš„å·¥ä½œç›®å½•å˜æ›´ï¼Œä¸€ä¸ªå†…å­˜ä¸Šçš„å˜åŒ–è€Œå·²ï¼Œå…¶ç»“æœä¸ä¼šé€ æˆä»»ä½•æ–‡ä»¶å˜æ›´ã€‚è€Œåˆ°ç¬¬äºŒå±‚çš„æ—¶å€™ï¼Œå¯åŠ¨çš„æ˜¯ä¸€ä¸ªå…¨æ–°çš„å®¹å™¨ï¼Œè·Ÿç¬¬ä¸€å±‚çš„å®¹å™¨æ›´å®Œå…¨æ²¡å…³ç³»ï¼Œè‡ªç„¶ä¸å¯èƒ½ç»§æ‰¿å‰ä¸€å±‚æ„å»ºè¿‡ç¨‹ä¸­çš„å†…å­˜å˜åŒ–ã€‚</p> <p>å› æ­¤å¦‚æœéœ€è¦æ”¹å˜ä»¥åå„å±‚çš„å·¥ä½œç›®å½•çš„ä½ç½®ï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨ <code>WORKDIR</code> æŒ‡ä»¤ã€‚</p> <h2 id="user-æŒ‡å®šå½“å‰ç”¨æˆ·"><a href="#user-æŒ‡å®šå½“å‰ç”¨æˆ·" class="header-anchor">#</a> USER æŒ‡å®šå½“å‰ç”¨æˆ·</h2> <p>æ ¼å¼ï¼š<code>USER &lt;ç”¨æˆ·å&gt;</code></p> <p><code>USER</code> æŒ‡ä»¤å’Œ <code>WORKDIR</code> ç›¸ä¼¼ï¼Œéƒ½æ˜¯æ”¹å˜ç¯å¢ƒçŠ¶æ€å¹¶å½±å“ä»¥åçš„å±‚ã€‚<code>WORKDIR</code> æ˜¯æ”¹å˜å·¥ä½œç›®å½•ï¼Œ<code>USER</code> åˆ™æ˜¯æ”¹å˜ä¹‹åå±‚çš„æ‰§è¡Œ <code>RUN</code>, <code>CMD</code> ä»¥åŠ <code>ENTRYPOINT</code> è¿™ç±»å‘½ä»¤çš„èº«ä»½ã€‚</p> <p>å½“ç„¶ï¼Œå’Œ <code>WORKDIR</code> ä¸€æ ·ï¼Œ<code>USER</code> åªæ˜¯å¸®åŠ©ä½ åˆ‡æ¢åˆ°æŒ‡å®šç”¨æˆ·è€Œå·²ï¼Œè¿™ä¸ªç”¨æˆ·å¿…é¡»æ˜¯äº‹å…ˆå»ºç«‹å¥½çš„ï¼Œå¦åˆ™æ— æ³•åˆ‡æ¢ã€‚</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">RUN</span> groupadd -r redis &amp;&amp; useradd -r -g redis redis</span>
<span class="token instruction"><span class="token keyword">USER</span> redis</span>
<span class="token instruction"><span class="token keyword">RUN</span> [ <span class="token string">&quot;redis-server&quot;</span> ]</span>
</code></pre></div><p>å¦‚æœä»¥ <code>root</code> æ‰§è¡Œçš„è„šæœ¬ï¼Œåœ¨æ‰§è¡ŒæœŸé—´å¸Œæœ›æ”¹å˜èº«ä»½ï¼Œæ¯”å¦‚å¸Œæœ›ä»¥æŸä¸ªå·²ç»å»ºç«‹å¥½çš„ç”¨æˆ·æ¥è¿è¡ŒæŸä¸ªæœåŠ¡è¿›ç¨‹ï¼Œä¸è¦ä½¿ç”¨ <code>su</code> æˆ–è€… <code>sudo</code>ï¼Œè¿™äº›éƒ½éœ€è¦æ¯”è¾ƒéº»çƒ¦çš„é…ç½®ï¼Œè€Œä¸”åœ¨ TTY ç¼ºå¤±çš„ç¯å¢ƒä¸‹ç»å¸¸å‡ºé”™ã€‚å»ºè®®ä½¿ç”¨ <a href="https://github.com/tianon/gosu" target="_blank" rel="noopener noreferrer"><code>gosu</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token comment"># å»ºç«‹ redis ç”¨æˆ·ï¼Œå¹¶ä½¿ç”¨ gosu æ¢å¦ä¸€ä¸ªç”¨æˆ·æ‰§è¡Œå‘½ä»¤</span>
<span class="token instruction"><span class="token keyword">RUN</span> groupadd -r redis &amp;&amp; useradd -r -g redis redis</span>
<span class="token comment"># ä¸‹è½½ gosu</span>
<span class="token instruction"><span class="token keyword">RUN</span> wget -O /usr/local/bin/gosu <span class="token string">&quot;https://github.com/tianon/gosu/releases/download/1.7/gosu-amd64&quot;</span> <span class="token operator">\</span>
    &amp;&amp; chmod +x /usr/local/bin/gosu <span class="token operator">\</span>
    &amp;&amp; gosu nobody true</span>
<span class="token comment"># è®¾ç½® CMDï¼Œå¹¶ä»¥å¦å¤–çš„ç”¨æˆ·æ‰§è¡Œ</span>
<span class="token instruction"><span class="token keyword">CMD</span> [ <span class="token string">&quot;exec&quot;</span>, <span class="token string">&quot;gosu&quot;</span>, <span class="token string">&quot;redis&quot;</span>, <span class="token string">&quot;redis-server&quot;</span> ]</span>
</code></pre></div><h2 id="healthcheck-å¥åº·æ£€æŸ¥"><a href="#healthcheck-å¥åº·æ£€æŸ¥" class="header-anchor">#</a> HEALTHCHECK å¥åº·æ£€æŸ¥</h2> <p>æ ¼å¼ï¼š</p> <ul><li><code>HEALTHCHECK [é€‰é¡¹] CMD &lt;å‘½ä»¤&gt;</code>ï¼šè®¾ç½®æ£€æŸ¥å®¹å™¨å¥åº·çŠ¶å†µçš„å‘½ä»¤</li> <li><code>HEALTHCHECK NONE</code>ï¼šå¦‚æœåŸºç¡€é•œåƒæœ‰å¥åº·æ£€æŸ¥æŒ‡ä»¤ï¼Œä½¿ç”¨è¿™è¡Œå¯ä»¥å±è”½æ‰å…¶å¥åº·æ£€æŸ¥æŒ‡ä»¤</li></ul> <p><code>HEALTHCHECK</code> æŒ‡ä»¤æ˜¯å‘Šè¯‰ Docker åº”è¯¥å¦‚ä½•è¿›è¡Œåˆ¤æ–­å®¹å™¨çš„çŠ¶æ€æ˜¯å¦æ­£å¸¸ï¼Œè¿™æ˜¯ Docker 1.12 å¼•å…¥çš„æ–°æŒ‡ä»¤ã€‚</p> <p>åœ¨æ²¡æœ‰ <code>HEALTHCHECK</code> æŒ‡ä»¤å‰ï¼ŒDocker å¼•æ“åªå¯ä»¥é€šè¿‡å®¹å™¨å†…ä¸»è¿›ç¨‹æ˜¯å¦é€€å‡ºæ¥åˆ¤æ–­å®¹å™¨æ˜¯å¦çŠ¶æ€å¼‚å¸¸ã€‚å¾ˆå¤šæƒ…å†µä¸‹è¿™æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœç¨‹åºè¿›å…¥æ­»é”çŠ¶æ€ï¼Œæˆ–è€…æ­»å¾ªç¯çŠ¶æ€ï¼Œåº”ç”¨è¿›ç¨‹å¹¶ä¸é€€å‡ºï¼Œä½†æ˜¯è¯¥å®¹å™¨å·²ç»æ— æ³•æä¾›æœåŠ¡äº†ã€‚åœ¨ 1.12 ä»¥å‰ï¼ŒDocker ä¸ä¼šæ£€æµ‹åˆ°å®¹å™¨çš„è¿™ç§çŠ¶æ€ï¼Œä»è€Œä¸ä¼šé‡æ–°è°ƒåº¦ï¼Œå¯¼è‡´å¯èƒ½ä¼šæœ‰éƒ¨åˆ†å®¹å™¨å·²ç»æ— æ³•æä¾›æœåŠ¡äº†å´è¿˜åœ¨æ¥å—ç”¨æˆ·è¯·æ±‚ã€‚</p> <p>è€Œè‡ª 1.12 ä¹‹åï¼ŒDocker æä¾›äº† <code>HEALTHCHECK</code> æŒ‡ä»¤ï¼Œé€šè¿‡è¯¥æŒ‡ä»¤æŒ‡å®šä¸€è¡Œå‘½ä»¤ï¼Œç”¨è¿™è¡Œå‘½ä»¤æ¥åˆ¤æ–­å®¹å™¨ä¸»è¿›ç¨‹çš„æœåŠ¡çŠ¶æ€æ˜¯å¦è¿˜æ­£å¸¸ï¼Œä»è€Œæ¯”è¾ƒçœŸå®çš„ååº”å®¹å™¨å®é™…çŠ¶æ€ã€‚</p> <p>å½“åœ¨ä¸€ä¸ªé•œåƒæŒ‡å®šäº† <code>HEALTHCHECK</code> æŒ‡ä»¤åï¼Œç”¨å…¶å¯åŠ¨å®¹å™¨ï¼Œåˆå§‹çŠ¶æ€ä¼šä¸º <code>starting</code>ï¼Œåœ¨ <code>HEALTHCHECK</code> æŒ‡ä»¤æ£€æŸ¥æˆåŠŸåå˜ä¸º <code>healthy</code>ï¼Œå¦‚æœè¿ç»­ä¸€å®šæ¬¡æ•°å¤±è´¥ï¼Œåˆ™ä¼šå˜ä¸º <code>unhealthy</code>ã€‚</p> <p><code>HEALTHCHECK</code> æ”¯æŒä¸‹åˆ—é€‰é¡¹ï¼š</p> <ul><li><code>--interval=&lt;é—´éš”&gt;</code>ï¼šä¸¤æ¬¡å¥åº·æ£€æŸ¥çš„é—´éš”ï¼Œé»˜è®¤ä¸º 30 ç§’ï¼›</li> <li><code>--timeout=&lt;æ—¶é•¿&gt;</code>ï¼šå¥åº·æ£€æŸ¥å‘½ä»¤è¿è¡Œè¶…æ—¶æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œæœ¬æ¬¡å¥åº·æ£€æŸ¥å°±è¢«è§†ä¸ºå¤±è´¥ï¼Œé»˜è®¤ 30 ç§’ï¼›</li> <li><code>--retries=&lt;æ¬¡æ•°&gt;</code>ï¼šå½“è¿ç»­å¤±è´¥æŒ‡å®šæ¬¡æ•°åï¼Œåˆ™å°†å®¹å™¨çŠ¶æ€è§†ä¸º <code>unhealthy</code>ï¼Œé»˜è®¤ 3 æ¬¡ã€‚</li></ul> <p>å’Œ <code>CMD</code>, <code>ENTRYPOINT</code> ä¸€æ ·ï¼Œ<code>HEALTHCHECK</code> åªå¯ä»¥å‡ºç°ä¸€æ¬¡ï¼Œå¦‚æœå†™äº†å¤šä¸ªï¼Œåªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆã€‚</p> <p>åœ¨ <code>HEALTHCHECK [é€‰é¡¹] CMD</code> åé¢çš„å‘½ä»¤ï¼Œæ ¼å¼å’Œ <code>ENTRYPOINT</code> ä¸€æ ·ï¼Œåˆ†ä¸º <code>shell</code> æ ¼å¼ï¼Œå’Œ <code>exec</code> æ ¼å¼ã€‚å‘½ä»¤çš„è¿”å›å€¼å†³å®šäº†è¯¥æ¬¡å¥åº·æ£€æŸ¥çš„æˆåŠŸä¸å¦ï¼š<code>0</code>ï¼šæˆåŠŸï¼›<code>1</code>ï¼šå¤±è´¥ï¼›<code>2</code>ï¼šä¿ç•™ï¼Œä¸è¦ä½¿ç”¨è¿™ä¸ªå€¼ã€‚</p> <p>å‡è®¾æˆ‘ä»¬æœ‰ä¸ªé•œåƒæ˜¯ä¸ªæœ€ç®€å•çš„ Web æœåŠ¡ï¼Œæˆ‘ä»¬å¸Œæœ›å¢åŠ å¥åº·æ£€æŸ¥æ¥åˆ¤æ–­å…¶ Web æœåŠ¡æ˜¯å¦åœ¨æ­£å¸¸å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>curl</code> æ¥å¸®åŠ©åˆ¤æ–­ï¼Œå…¶ <code>Dockerfile</code> çš„ <code>HEALTHCHECK</code> å¯ä»¥è¿™ä¹ˆå†™ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> nginx</span>
<span class="token instruction"><span class="token keyword">RUN</span> apt-get update &amp;&amp; apt-get install -y curl &amp;&amp; rm -rf /var/lib/apt/lists/*</span>
<span class="token instruction"><span class="token keyword">HEALTHCHECK</span> <span class="token options"><span class="token property">--interval</span><span class="token punctuation">=</span><span class="token string">5s</span> <span class="token property">--timeout</span><span class="token punctuation">=</span><span class="token string">3s</span></span> <span class="token operator">\</span>
  <span class="token keyword">CMD</span> curl -fs http://localhost/ || exit 1</span>
</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬è®¾ç½®äº†æ¯ 5 ç§’æ£€æŸ¥ä¸€æ¬¡ï¼ˆè¿™é‡Œä¸ºäº†è¯•éªŒæ‰€ä»¥é—´éš”éå¸¸çŸ­ï¼Œå®é™…åº”è¯¥ç›¸å¯¹è¾ƒé•¿ï¼‰ï¼Œå¦‚æœå¥åº·æ£€æŸ¥å‘½ä»¤è¶…è¿‡ 3 ç§’æ²¡å“åº”å°±è§†ä¸ºå¤±è´¥ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>curl -fs http://localhost/ || exit 1</code> ä½œä¸ºå¥åº·æ£€æŸ¥å‘½ä»¤ã€‚</p> <p>ä½¿ç”¨ <code>docker build</code> æ¥æ„å»ºè¿™ä¸ªé•œåƒï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> build -t myweb:v1 <span class="token builtin class-name">.</span>
</code></pre></div><p>æ„å»ºå¥½äº†åï¼Œæˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run -d --name web -p <span class="token number">80</span>:80 myweb:v1
</code></pre></div><p>å½“è¿è¡Œè¯¥é•œåƒåï¼Œå¯ä»¥é€šè¿‡ <code>docker container ls</code> çœ‹åˆ°æœ€åˆçš„çŠ¶æ€ä¸º <code>(health: starting)</code>ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> container <span class="token function">ls</span>
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                            PORTS               NAMES
03e28eb00bd0        myweb:v1            <span class="token string">&quot;nginx -g 'daemon off&quot;</span>   <span class="token number">3</span> seconds ago       Up <span class="token number">2</span> seconds <span class="token punctuation">(</span>health: starting<span class="token punctuation">)</span>   <span class="token number">80</span>/tcp, <span class="token number">443</span>/tcp     web
</code></pre></div><p>åœ¨ç­‰å¾…å‡ ç§’é’Ÿåï¼Œå†æ¬¡ <code>docker container ls</code>ï¼Œå°±ä¼šçœ‹åˆ°å¥åº·çŠ¶æ€å˜åŒ–ä¸ºäº† <code>(healthy)</code>ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> container <span class="token function">ls</span>
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                    PORTS               NAMES
03e28eb00bd0        myweb:v1            <span class="token string">&quot;nginx -g 'daemon off&quot;</span>   <span class="token number">18</span> seconds ago      Up <span class="token number">16</span> seconds <span class="token punctuation">(</span>healthy<span class="token punctuation">)</span>   <span class="token number">80</span>/tcp, <span class="token number">443</span>/tcp     web
</code></pre></div><p>å¦‚æœå¥åº·æ£€æŸ¥è¿ç»­å¤±è´¥è¶…è¿‡äº†é‡è¯•æ¬¡æ•°ï¼ŒçŠ¶æ€å°±ä¼šå˜ä¸º <code>(unhealthy)</code>ã€‚</p> <p>ä¸ºäº†å¸®åŠ©æ’éšœï¼Œå¥åº·æ£€æŸ¥å‘½ä»¤çš„è¾“å‡ºï¼ˆåŒ…æ‹¬ <code>stdout</code> ä»¥åŠ <code>stderr</code>ï¼‰éƒ½ä¼šè¢«å­˜å‚¨äºå¥åº·çŠ¶æ€é‡Œï¼Œå¯ä»¥ç”¨ <code>docker inspect</code> æ¥æŸ¥çœ‹ã€‚</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> inspect --format <span class="token string">'{{json .State.Health}}'</span> web <span class="token operator">|</span> python -m json.tool
<span class="token punctuation">{</span>
    <span class="token string">&quot;FailingStreak&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;Log&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;End&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2016-11-25T14:35:37.940957051Z&quot;</span>,
            <span class="token string">&quot;ExitCode&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;Output&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&lt;!DOCTYPE html&gt;<span class="token entity" title="\n">\n</span>&lt;html&gt;<span class="token entity" title="\n">\n</span>&lt;head&gt;<span class="token entity" title="\n">\n</span>&lt;title&gt;Welcome to nginx!&lt;/title&gt;<span class="token entity" title="\n">\n</span>&lt;style&gt;<span class="token entity" title="\n">\n</span>    body {<span class="token entity" title="\n">\n</span>        width: 35em;<span class="token entity" title="\n">\n</span>        margin: 0 auto;<span class="token entity" title="\n">\n</span>        font-family: Tahoma, Verdana, Arial, sans-serif;<span class="token entity" title="\n">\n</span>    }<span class="token entity" title="\n">\n</span>&lt;/style&gt;<span class="token entity" title="\n">\n</span>&lt;/head&gt;<span class="token entity" title="\n">\n</span>&lt;body&gt;<span class="token entity" title="\n">\n</span>&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;<span class="token entity" title="\n">\n</span>&lt;p&gt;If you see this page, the nginx web server is successfully installed and<span class="token entity" title="\n">\n</span>working. Further configuration is required.&lt;/p&gt;<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>&lt;p&gt;For online documentation and support please refer to<span class="token entity" title="\n">\n</span>&lt;a href=<span class="token entity" title="\&quot;">\&quot;</span>http://nginx.org/<span class="token entity" title="\&quot;">\&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;<span class="token entity" title="\n">\n</span>Commercial support is available at<span class="token entity" title="\n">\n</span>&lt;a href=<span class="token entity" title="\&quot;">\&quot;</span>http://nginx.com/<span class="token entity" title="\&quot;">\&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;<span class="token entity" title="\n">\n</span>&lt;/body&gt;<span class="token entity" title="\n">\n</span>&lt;/html&gt;<span class="token entity" title="\n">\n</span>&quot;</span>,
            <span class="token string">&quot;Start&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2016-11-25T14:35:37.780192565Z&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>,
    <span class="token string">&quot;Status&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;healthy&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="onbuild-ä¸ºä»–äººä½œå«è¡£"><a href="#onbuild-ä¸ºä»–äººä½œå«è¡£" class="header-anchor">#</a> ONBUILD ä¸ºä»–äººä½œå«è¡£</h2> <p>æ ¼å¼ï¼š<code>ONBUILD &lt;å…¶å®ƒæŒ‡ä»¤&gt;</code>ã€‚</p> <p><code>ONBUILD</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡ä»¤ï¼Œå®ƒåé¢è·Ÿçš„æ˜¯å…¶å®ƒæŒ‡ä»¤ï¼Œæ¯”å¦‚ <code>RUN</code>, <code>COPY</code> ç­‰ï¼Œè€Œè¿™äº›æŒ‡ä»¤ï¼Œåœ¨å½“å‰é•œåƒæ„å»ºæ—¶å¹¶ä¸ä¼šè¢«æ‰§è¡Œã€‚åªæœ‰å½“ä»¥å½“å‰é•œåƒä¸ºåŸºç¡€é•œåƒï¼Œå»æ„å»ºä¸‹ä¸€çº§é•œåƒçš„æ—¶å€™æ‰ä¼šè¢«æ‰§è¡Œã€‚</p> <p><code>Dockerfile</code> ä¸­çš„å…¶å®ƒæŒ‡ä»¤éƒ½æ˜¯ä¸ºäº†å®šåˆ¶å½“å‰é•œåƒè€Œå‡†å¤‡çš„ï¼Œå”¯æœ‰ <code>ONBUILD</code> æ˜¯ä¸ºäº†å¸®åŠ©åˆ«äººå®šåˆ¶è‡ªå·±è€Œå‡†å¤‡çš„ã€‚</p> <p>å‡è®¾æˆ‘ä»¬è¦åˆ¶ä½œ Node.js æ‰€å†™çš„åº”ç”¨çš„é•œåƒã€‚æˆ‘ä»¬éƒ½çŸ¥é“ Node.js ä½¿ç”¨ <code>npm</code> è¿›è¡ŒåŒ…ç®¡ç†ï¼Œæ‰€æœ‰ä¾èµ–ã€é…ç½®ã€å¯åŠ¨ä¿¡æ¯ç­‰ä¼šæ”¾åˆ° <code>package.json</code> æ–‡ä»¶é‡Œã€‚åœ¨æ‹¿åˆ°ç¨‹åºä»£ç åï¼Œéœ€è¦å…ˆè¿›è¡Œ <code>npm install</code> æ‰å¯ä»¥è·å¾—æ‰€æœ‰éœ€è¦çš„ä¾èµ–ã€‚ç„¶åå°±å¯ä»¥é€šè¿‡ <code>npm start</code> æ¥å¯åŠ¨åº”ç”¨ã€‚å› æ­¤ï¼Œä¸€èˆ¬æ¥è¯´ä¼šè¿™æ ·å†™ <code>Dockerfile</code>ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> node:slim</span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir /app</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">COPY</span> ./package.json /app</span>
<span class="token instruction"><span class="token keyword">RUN</span> [ <span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;install&quot;</span> ]</span>
<span class="token instruction"><span class="token keyword">COPY</span> . /app/</span>
<span class="token instruction"><span class="token keyword">CMD</span> [ <span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;start&quot;</span> ]</span>
</code></pre></div><p>æŠŠè¿™ä¸ª <code>Dockerfile</code> æ”¾åˆ° Node.js é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæ„å»ºå¥½é•œåƒåï¼Œå°±å¯ä»¥ç›´æ¥æ‹¿æ¥å¯åŠ¨å®¹å™¨è¿è¡Œã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬è¿˜æœ‰ç¬¬äºŒä¸ª Node.js é¡¹ç›®ä¹Ÿå·®ä¸å¤šå‘¢ï¼Ÿå¥½å§ï¼Œé‚£å°±å†æŠŠè¿™ä¸ª <code>Dockerfile</code> å¤åˆ¶åˆ°ç¬¬äºŒä¸ªé¡¹ç›®é‡Œã€‚é‚£å¦‚æœæœ‰ç¬¬ä¸‰ä¸ªé¡¹ç›®å‘¢ï¼Ÿå†å¤åˆ¶ä¹ˆï¼Ÿæ–‡ä»¶çš„å‰¯æœ¬è¶Šå¤šï¼Œç‰ˆæœ¬æ§åˆ¶å°±è¶Šå›°éš¾ï¼Œè®©æˆ‘ä»¬ç»§ç»­çœ‹è¿™æ ·çš„åœºæ™¯ç»´æŠ¤çš„é—®é¢˜ã€‚</p> <p>å¦‚æœç¬¬ä¸€ä¸ª Node.js é¡¹ç›®åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‘ç°è¿™ä¸ª <code>Dockerfile</code> é‡Œå­˜åœ¨é—®é¢˜ï¼Œæ¯”å¦‚æ•²é”™å­—äº†ã€æˆ–è€…éœ€è¦å®‰è£…é¢å¤–çš„åŒ…ï¼Œç„¶åå¼€å‘äººå‘˜ä¿®å¤äº†è¿™ä¸ª <code>Dockerfile</code>ï¼Œå†æ¬¡æ„å»ºï¼Œé—®é¢˜è§£å†³ã€‚ç¬¬ä¸€ä¸ªé¡¹ç›®æ²¡é—®é¢˜äº†ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªé¡¹ç›®å‘¢ï¼Ÿè™½ç„¶æœ€åˆ <code>Dockerfile</code> æ˜¯å¤åˆ¶ã€ç²˜è´´è‡ªç¬¬ä¸€ä¸ªé¡¹ç›®çš„ï¼Œä½†æ˜¯å¹¶ä¸ä¼šå› ä¸ºç¬¬ä¸€ä¸ªé¡¹ç›®ä¿®å¤äº†ä»–ä»¬çš„ <code>Dockerfile</code>ï¼Œè€Œç¬¬äºŒä¸ªé¡¹ç›®çš„ <code>Dockerfile</code> å°±ä¼šè¢«è‡ªåŠ¨ä¿®å¤ã€‚</p> <p>é‚£ä¹ˆæˆ‘ä»¬å¯ä¸å¯ä»¥åšä¸€ä¸ªåŸºç¡€é•œåƒï¼Œç„¶åå„ä¸ªé¡¹ç›®ä½¿ç”¨è¿™ä¸ªåŸºç¡€é•œåƒå‘¢ï¼Ÿè¿™æ ·åŸºç¡€é•œåƒæ›´æ–°ï¼Œå„ä¸ªé¡¹ç›®ä¸ç”¨åŒæ­¥ <code>Dockerfile</code> çš„å˜åŒ–ï¼Œé‡æ–°æ„å»ºåå°±ç»§æ‰¿äº†åŸºç¡€é•œåƒçš„æ›´æ–°ï¼Ÿå¥½å§ï¼Œå¯ä»¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™æ ·çš„ç»“æœã€‚é‚£ä¹ˆä¸Šé¢çš„è¿™ä¸ª <code>Dockerfile</code> å°±ä¼šå˜ä¸ºï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> node:slim</span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir /app</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">CMD</span> [ <span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;start&quot;</span> ]</span>
</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬æŠŠé¡¹ç›®ç›¸å…³çš„æ„å»ºæŒ‡ä»¤æ‹¿å‡ºæ¥ï¼Œæ”¾åˆ°å­é¡¹ç›®é‡Œå»ã€‚å‡è®¾è¿™ä¸ªåŸºç¡€é•œåƒçš„åå­—ä¸º <code>my-node</code> çš„è¯ï¼Œå„ä¸ªé¡¹ç›®å†…çš„è‡ªå·±çš„ <code>Dockerfile</code> å°±å˜ä¸ºï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> my-node</span>
<span class="token instruction"><span class="token keyword">COPY</span> ./package.json /app</span>
<span class="token instruction"><span class="token keyword">RUN</span> [ <span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;install&quot;</span> ]</span>
<span class="token instruction"><span class="token keyword">COPY</span> . /app/</span>
</code></pre></div><p>åŸºç¡€é•œåƒå˜åŒ–åï¼Œå„ä¸ªé¡¹ç›®éƒ½ç”¨è¿™ä¸ª <code>Dockerfile</code> é‡æ–°æ„å»ºé•œåƒï¼Œä¼šç»§æ‰¿åŸºç¡€é•œåƒçš„æ›´æ–°ã€‚</p> <p>é‚£ä¹ˆï¼Œé—®é¢˜è§£å†³äº†ä¹ˆï¼Ÿæ²¡æœ‰ã€‚å‡†ç¡®è¯´ï¼Œåªè§£å†³äº†ä¸€åŠã€‚å¦‚æœè¿™ä¸ª <code>Dockerfile</code> é‡Œé¢æœ‰äº›ä¸œè¥¿éœ€è¦è°ƒæ•´å‘¢ï¼Ÿæ¯”å¦‚ <code>npm install</code> éƒ½éœ€è¦åŠ ä¸€äº›å‚æ•°ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿè¿™ä¸€è¡Œ <code>RUN</code> æ˜¯ä¸å¯èƒ½æ”¾å…¥åŸºç¡€é•œåƒçš„ï¼Œå› ä¸ºæ¶‰åŠåˆ°äº†å½“å‰é¡¹ç›®çš„ <code>./package.json</code>ï¼Œéš¾é“åˆè¦ä¸€ä¸ªä¸ªä¿®æ”¹ä¹ˆï¼Ÿæ‰€ä»¥è¯´ï¼Œè¿™æ ·åˆ¶ä½œåŸºç¡€é•œåƒï¼Œåªè§£å†³äº†åŸæ¥çš„ <code>Dockerfile</code> çš„å‰4æ¡æŒ‡ä»¤çš„å˜åŒ–é—®é¢˜ï¼Œè€Œåé¢ä¸‰æ¡æŒ‡ä»¤çš„å˜åŒ–åˆ™å®Œå…¨æ²¡åŠæ³•å¤„ç†ã€‚</p> <p><code>ONBUILD</code> å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è®©æˆ‘ä»¬ç”¨ <code>ONBUILD</code> é‡æ–°å†™ä¸€ä¸‹åŸºç¡€é•œåƒçš„ <code>Dockerfile</code>:</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> node:slim</span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir /app</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">ONBUILD</span> <span class="token keyword">COPY</span> ./package.json /app</span>
<span class="token instruction"><span class="token keyword">ONBUILD</span> <span class="token keyword">RUN</span> [ <span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;install&quot;</span> ]</span>
<span class="token instruction"><span class="token keyword">ONBUILD</span> <span class="token keyword">COPY</span> . /app/</span>
<span class="token instruction"><span class="token keyword">CMD</span> [ <span class="token string">&quot;npm&quot;</span>, <span class="token string">&quot;start&quot;</span> ]</span>
</code></pre></div><p>è¿™æ¬¡æˆ‘ä»¬å›åˆ°åŸå§‹çš„ <code>Dockerfile</code>ï¼Œä½†æ˜¯è¿™æ¬¡å°†é¡¹ç›®ç›¸å…³çš„æŒ‡ä»¤åŠ ä¸Š <code>ONBUILD</code>ï¼Œè¿™æ ·åœ¨æ„å»ºåŸºç¡€é•œåƒçš„æ—¶å€™ï¼Œè¿™ä¸‰è¡Œå¹¶ä¸ä¼šè¢«æ‰§è¡Œã€‚ç„¶åå„ä¸ªé¡¹ç›®çš„ <code>Dockerfile</code> å°±å˜æˆäº†ç®€å•åœ°ï¼š</p> <div class="language-dockerfile extra-class"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> my-node</span>
</code></pre></div><p>æ˜¯çš„ï¼Œåªæœ‰è¿™ä¹ˆä¸€è¡Œã€‚å½“åœ¨å„ä¸ªé¡¹ç›®ç›®å½•ä¸­ï¼Œç”¨è¿™ä¸ªåªæœ‰ä¸€è¡Œçš„ <code>Dockerfile</code> æ„å»ºé•œåƒæ—¶ï¼Œä¹‹å‰åŸºç¡€é•œåƒçš„é‚£ä¸‰è¡Œ <code>ONBUILD</code> å°±ä¼šå¼€å§‹æ‰§è¡Œï¼ŒæˆåŠŸçš„å°†å½“å‰é¡¹ç›®çš„ä»£ç å¤åˆ¶è¿›é•œåƒã€å¹¶ä¸”é’ˆå¯¹æœ¬é¡¹ç›®æ‰§è¡Œ <code>npm install</code>ï¼Œç”Ÿæˆåº”ç”¨é•œåƒã€‚</p> <h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="header-anchor">#</a> å‚è€ƒæ–‡æ¡£</h2> <ul><li><a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener noreferrer">Dockerfie å®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/" target="_blank" rel="noopener noreferrer">Dockerfile æœ€ä½³å®è·µæ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/docker-library/docs" target="_blank" rel="noopener noreferrer">Docker å®˜æ–¹é•œåƒ Dockerfile<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/02/09, 11:50:39</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/ffea77/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">ä½¿ç”¨ Dockerfile å®šåˆ¶é•œåƒ</div></a> <a href="/pages/f99491/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Dockerfile å¤šé˜¶æ®µæ„å»º</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/ffea77/" class="prev">ä½¿ç”¨ Dockerfile å®šåˆ¶é•œåƒ</a></span> <span class="next"><a href="/pages/f99491/">Dockerfile å¤šé˜¶æ®µæ„å»º</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:785056500@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/heyuqiang" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2019-2022
    <span>PigxCloud, Inc.</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.31569fb0.js" defer></script><script src="/assets/js/2.df69d635.js" defer></script><script src="/assets/js/146.55df497b.js" defer></script>
  </body>
</html>
